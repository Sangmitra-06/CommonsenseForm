{"ast":null,"code":"import React from'react';import{useForm}from'../context/FormContext.tsx';// In ProgressBar.tsx, update the progress display\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProgressBar(){const{state,calculateProgress}=useForm();if(!state.questionsData||state.questionsData.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"backdrop-blur-sm border-b px-6 py-3 sticky top-0 z-10 shadow-sm\",style:{backgroundColor:'var(--bg-card)',borderColor:'var(--border-light)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded mb-2\",style:{backgroundColor:'var(--color-cream)'}}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded\",style:{backgroundColor:'var(--color-blue-gray)'}})]})})});}const overallProgress=calculateProgress();// Filter out attention check responses for display\nconst actualResponses=Array.from(state.responses.keys()).filter(questionId=>!questionId.startsWith('ATTENTION_CHECK_')).length;return/*#__PURE__*/_jsx(\"div\",{className:\"backdrop-blur-sm border-b px-6 py-3 sticky top-0 z-10 shadow-sm\",style:{backgroundColor:'var(--bg-card)',borderColor:'var(--border-light)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",style:{color:'var(--text-primary)'},children:\"Survey Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center text-xs\",style:{color:'var(--text-primary)'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:'var(--text-primary)'},children:actualResponses}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-1\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{children:state.progress.totalQuestions}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:\"questions\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full rounded-full h-3 overflow-hidden\",style:{backgroundColor:'var(--bg-progress)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-700 ease-out\",style:{background:'var(--bg-progress-fill)',width:\"\".concat(Math.min(overallProgress,100),\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-xs mt-1\",style:{color:'var(--text-secondary)'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[overallProgress.toFixed(1),\"% complete\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[state.progress.totalQuestions-actualResponses,\" remaining\"]})]})]})})});}","map":{"version":3,"names":["React","useForm","jsx","_jsx","jsxs","_jsxs","ProgressBar","state","calculateProgress","questionsData","length","className","style","backgroundColor","borderColor","children","overallProgress","actualResponses","Array","from","responses","keys","filter","questionId","startsWith","color","progress","totalQuestions","background","width","concat","Math","min","toFixed"],"sources":["C:/Users/sangm/OneDrive - Brock University/CommonsenseForm/client/src/components/ProgressBar.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useForm } from '../context/FormContext.tsx';\r\n\r\n// In ProgressBar.tsx, update the progress display\r\nexport default function ProgressBar() {\r\n  const { \r\n    state, \r\n    calculateProgress\r\n  } = useForm();\r\n\r\n  if (!state.questionsData || state.questionsData.length === 0) {\r\n    return (\r\n      <div \r\n        className=\"backdrop-blur-sm border-b px-6 py-3 sticky top-0 z-10 shadow-sm\"\r\n        style={{ \r\n          backgroundColor: 'var(--bg-card)',\r\n          borderColor: 'var(--border-light)'\r\n        }}\r\n      >\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <div className=\"animate-pulse\">\r\n            <div \r\n              className=\"h-3 rounded mb-2\"\r\n              style={{ backgroundColor: 'var(--color-cream)' }}\r\n            ></div>\r\n            <div \r\n              className=\"h-2 rounded\"\r\n              style={{ backgroundColor: 'var(--color-blue-gray)' }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const overallProgress = calculateProgress();\r\n  \r\n  // Filter out attention check responses for display\r\n  const actualResponses = Array.from(state.responses.keys())\r\n    .filter(questionId => !questionId.startsWith('ATTENTION_CHECK_'))\r\n    .length;\r\n\r\n  return (\r\n    <div \r\n      className=\"backdrop-blur-sm border-b px-6 py-3 sticky top-0 z-10 shadow-sm\"\r\n      style={{ \r\n        backgroundColor: 'var(--bg-card)',\r\n        borderColor: 'var(--border-light)'\r\n      }}\r\n    >\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div>\r\n          <div className=\"flex items-center justify-between text-sm mb-1\">\r\n            <span \r\n              className=\"font-medium\"\r\n              style={{ color: 'var(--text-primary)' }}\r\n            >\r\n              Survey Progress\r\n            </span>\r\n            <span \r\n              className=\"flex items-center text-xs\"\r\n              style={{ color: 'var(--text-primary)' }}\r\n            >\r\n              <span \r\n                className=\"font-semibold\"\r\n                style={{ color: 'var(--text-primary)' }}\r\n              >\r\n                {actualResponses}\r\n              </span>\r\n              <span className=\"mx-1\">/</span>\r\n              <span>{state.progress.totalQuestions}</span>\r\n              <span className=\"ml-1\">questions</span>\r\n            </span>\r\n          </div>\r\n          <div \r\n            className=\"w-full rounded-full h-3 overflow-hidden\"\r\n            style={{ backgroundColor: 'var(--bg-progress)' }}\r\n          >\r\n            <div \r\n              className=\"h-3 rounded-full transition-all duration-700 ease-out\"\r\n              style={{ \r\n                background: 'var(--bg-progress-fill)',\r\n                width: `${Math.min(overallProgress, 100)}%` \r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div \r\n            className=\"flex justify-between items-center text-xs mt-1\"\r\n            style={{ color: 'var(--text-secondary)' }}\r\n          >\r\n            <span>{overallProgress.toFixed(1)}% complete</span>\r\n            <span>\r\n              {state.progress.totalQuestions - actualResponses} remaining\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}