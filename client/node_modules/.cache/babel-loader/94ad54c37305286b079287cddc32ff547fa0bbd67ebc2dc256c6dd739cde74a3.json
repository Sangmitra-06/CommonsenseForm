{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sangm\\\\OneDrive - Brock University\\\\CommonsenseForm\\\\client\\\\src\\\\components\\\\QuestionForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useForm } from '../context/FormContext.tsx';\nimport { validateAnswer } from '../utils/helpers.ts';\nimport AttentionCheck from './AttentionCheck.tsx';\nimport ProgressBar from './ProgressBar.tsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function QuestionForm() {\n  _s();\n  const {\n    state,\n    saveResponse,\n    navigateToNext,\n    navigateToPrevious,\n    getCurrentQuestionData,\n    getTotalQuestionsInCurrentTopic,\n    getCompletedQuestionsInCurrentTopic,\n    resetSession\n  } = useForm();\n  const [answer, setAnswer] = useState('');\n  const [culturalCommonsense, setCulturalCommonsense] = useState(null);\n  const [errors, setErrors] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n  const [showAttentionCheck, setShowAttentionCheck] = useState(false);\n  const [attentionCheck, setAttentionCheck] = useState(null);\n  const [startTime, setStartTime] = useState(Date.now());\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [lastQuestionId, setLastQuestionId] = useState(null);\n  const [isNavigating, setIsNavigating] = useState(false);\n  const [navigationDirection, setNavigationDirection] = useState(null);\n  const [showCelebration, setShowCelebration] = useState(null);\n  const textareaRef = useRef(null);\n  const currentQuestionData = getCurrentQuestionData();\n\n  // Reset form when question changes\n  useEffect(() => {\n    if (currentQuestionData && currentQuestionData.questionId !== lastQuestionId) {\n      console.log('Question changed, loading data for:', currentQuestionData.questionId);\n\n      // Reset form state\n      setErrors({});\n      setShowSuccess(false);\n      setStartTime(Date.now());\n      setLastQuestionId(currentQuestionData.questionId);\n      setIsNavigating(false);\n      setNavigationDirection(null);\n\n      // Load existing response or reset\n      const existingResponse = state.responses.get(currentQuestionData.questionId);\n      if (existingResponse) {\n        console.log('Found existing response:', existingResponse);\n        setAnswer(existingResponse.answer);\n        setCulturalCommonsense(existingResponse.culturalCommonsense);\n      } else {\n        console.log('No existing response, clearing form');\n        setAnswer('');\n        setCulturalCommonsense(null);\n      }\n    }\n  }, [currentQuestionData === null || currentQuestionData === void 0 ? void 0 : currentQuestionData.questionId, lastQuestionId, state.responses]);\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [answer]);\n  const validateForm = () => {\n    const newErrors = {};\n    const answerValidation = validateAnswer(answer);\n    if (!answerValidation.isValid) {\n      newErrors.answer = answerValidation.message;\n    }\n    if (culturalCommonsense === null) {\n      newErrors.cultural = 'Please select whether this pertains to cultural commonsense';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleAnswerChange = e => {\n    setAnswer(e.target.value);\n    if (errors.answer) {\n      setErrors(prev => ({\n        ...prev,\n        answer: undefined\n      }));\n    }\n  };\n  const handleCulturalChange = value => {\n    setCulturalCommonsense(value);\n    if (errors.cultural) {\n      setErrors(prev => ({\n        ...prev,\n        cultural: undefined\n      }));\n    }\n  };\n  const handleClear = () => {\n    setAnswer('');\n    setCulturalCommonsense(null);\n    setErrors({});\n    setShowSuccess(false);\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  };\n  const checkForMilestones = () => {\n    const {\n      categoryIndex,\n      subcategoryIndex,\n      topicIndex,\n      questionIndex\n    } = state.currentPosition;\n    const currentCategory = state.questionsData[categoryIndex];\n    const currentSubcategory = currentCategory === null || currentCategory === void 0 ? void 0 : currentCategory.subcategories[subcategoryIndex];\n    const currentTopic = currentSubcategory === null || currentSubcategory === void 0 ? void 0 : currentSubcategory.topics[topicIndex];\n    if (!currentTopic) return null;\n\n    // Check if this is the last question in the topic\n    if (questionIndex === currentTopic.questions.length - 1) {\n      // Check if this is also the last topic in subcategory\n      if (topicIndex === currentSubcategory.topics.length - 1) {\n        // Check if this is also the last subcategory in category\n        if (subcategoryIndex === currentCategory.subcategories.length - 1) {\n          return 'category';\n        }\n        return 'subcategory';\n      }\n      return 'topic';\n    }\n    return null;\n  };\n  const handleSave = async () => {\n    if (!validateForm() || !currentQuestionData || !state.sessionId) return;\n    setIsSaving(true);\n    try {\n      const timeSpent = Math.floor((Date.now() - startTime) / 1000);\n      const response = {\n        sessionId: state.sessionId,\n        questionId: currentQuestionData.questionId,\n        categoryIndex: state.currentPosition.categoryIndex,\n        subcategoryIndex: state.currentPosition.subcategoryIndex,\n        topicIndex: state.currentPosition.topicIndex,\n        questionIndex: state.currentPosition.questionIndex,\n        category: currentQuestionData.category,\n        subcategory: currentQuestionData.subcategory,\n        topic: currentQuestionData.topic,\n        question: currentQuestionData.question,\n        answer: answer.trim(),\n        culturalCommonsense: culturalCommonsense,\n        timeSpent,\n        timestamp: new Date().toISOString()\n      };\n      await saveResponse(response);\n      setShowSuccess(true);\n      setTimeout(() => setShowSuccess(false), 2000);\n    } catch (error) {\n      console.error('SAVE ERROR:', error);\n      alert('Failed to save response: ' + error.message);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  const handleNext = async () => {\n    await handleSave();\n    if (Object.keys(errors).length === 0 && answer.trim() && culturalCommonsense !== null) {\n      // Check for milestone before navigating\n      const milestone = checkForMilestones();\n      setNavigationDirection('next');\n      setIsNavigating(true);\n      setTimeout(() => {\n        navigateToNext();\n\n        // Show celebration if milestone reached\n        if (milestone) {\n          setShowCelebration(milestone);\n          setTimeout(() => setShowCelebration(null), 3000);\n        }\n      }, 300);\n    }\n  };\n  const handlePrevious = () => {\n    setNavigationDirection('previous');\n    setIsNavigating(true);\n    setTimeout(() => {\n      navigateToPrevious();\n    }, 300);\n  };\n  const handleSkip = () => {\n    setAnswer('');\n    setCulturalCommonsense(null);\n    setErrors({});\n    setNavigationDirection('next');\n    setIsNavigating(true);\n    setTimeout(() => {\n      navigateToNext();\n    }, 300);\n  };\n  if (showAttentionCheck && attentionCheck) {\n    return /*#__PURE__*/_jsxDEV(AttentionCheck, {\n      attentionCheck: attentionCheck,\n      onComplete: () => {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 12\n    }, this);\n  }\n  if (!currentQuestionData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading question...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this);\n  }\n  const topicProgress = getTotalQuestionsInCurrentTopic();\n  const completedInTopic = getCompletedQuestionsInCurrentTopic();\n  const currentQuestionInTopic = state.currentPosition.questionIndex + 1;\n  const isFirstQuestion = state.currentPosition.categoryIndex === 0 && state.currentPosition.subcategoryIndex === 0 && state.currentPosition.topicIndex === 0 && state.currentPosition.questionIndex === 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50\",\n    children: [/*#__PURE__*/_jsxDEV(ProgressBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), showCelebration && /*#__PURE__*/_jsxDEV(CelebrationOverlay, {\n      type: showCelebration,\n      currentQuestionData: currentQuestionData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-5xl mx-auto px-6 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `transform transition-all duration-500 ease-in-out ${isNavigating ? navigationDirection === 'next' ? 'translate-x-[-100%] opacity-0 scale-95' : 'translate-x-[100%] opacity-0 scale-95' : 'translate-x-0 opacity-100 scale-100'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-8 border border-white/20 hover:shadow-3xl transition-all duration-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full text-sm font-medium mb-6 shadow-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: \"\\uD83D\\uDCCB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), \"Question \", currentQuestionInTopic, \" of \", topicProgress, \" in this topic\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4\",\n              children: currentQuestionData.topic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center space-x-3 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-4 py-2 bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 rounded-full font-medium shadow-sm\",\n                children: currentQuestionData.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\u2022\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-4 py-2 bg-gradient-to-r from-green-100 to-green-200 text-green-800 rounded-full font-medium shadow-sm\",\n                children: currentQuestionData.subcategory\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-3 overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 h-3 rounded-full transition-all duration-1000 ease-out relative\",\n                style: {\n                  width: `${completedInTopic / topicProgress * 100}%`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 bg-white opacity-30 animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-sm text-gray-600 mt-3 font-medium\",\n              children: [completedInTopic, \" of \", topicProgress, \" questions completed in this topic\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden hover:shadow-3xl transition-all duration-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-8 text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl md:text-2xl font-semibold leading-relaxed\",\n              children: currentQuestionData.question\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"main-answer\",\n                  className: \"block text-lg font-semibold text-gray-800\",\n                  children: \"Your Answer *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleClear,\n                  className: \"text-sm text-indigo-600 hover:text-indigo-800 font-medium hover:underline transition-colors\",\n                  children: \"Clear Form\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  ref: textareaRef,\n                  id: \"main-answer\",\n                  value: answer,\n                  onChange: handleAnswerChange,\n                  placeholder: \"Share your knowledge about cultural practices in your region...\",\n                  className: `w-full px-6 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-indigo-200 resize-none min-h-[150px] transition-all duration-200 font-medium text-gray-700 ${errors.answer ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-indigo-400'}`,\n                  maxLength: 5000,\n                  disabled: isSaving\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute bottom-4 right-4 px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-500\",\n                  children: [answer.length, \"/5000\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this), errors.answer && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-600 mt-2 font-medium\",\n                children: errors.answer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold text-indigo-900 mb-4 text-lg\",\n                children: \"\\uD83E\\uDDE0 Cultural Commonsense Assessment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-indigo-800 mb-4 leading-relaxed\",\n                children: \"Cultural commonsense refers to everyday beliefs, behaviors, values, and practices that are perceived as \\\"natural\\\" and widely shared within a cultural group.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-indigo-900 mb-4\",\n                children: \"Does this question pertain to cultural commonsense in your region? *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center cursor-pointer p-4 rounded-xl hover:bg-white/60 transition-colors\",\n                  onClick: () => handleCulturalChange(true),\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    id: \"cultural-yes\",\n                    checked: culturalCommonsense === true,\n                    onChange: () => handleCulturalChange(true),\n                    disabled: isSaving,\n                    className: \"h-5 w-5 text-indigo-600 focus:ring-indigo-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"cultural-yes\",\n                    className: \"ml-4 text-gray-800 font-medium cursor-pointer\",\n                    children: \"\\u2705 Yes, this relates to cultural commonsense\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center cursor-pointer p-4 rounded-xl hover:bg-white/60 transition-colors\",\n                  onClick: () => handleCulturalChange(false),\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    id: \"cultural-no\",\n                    checked: culturalCommonsense === false,\n                    onChange: () => handleCulturalChange(false),\n                    disabled: isSaving,\n                    className: \"h-5 w-5 text-indigo-600 focus:ring-indigo-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"cultural-no\",\n                    className: \"ml-4 text-gray-800 font-medium cursor-pointer\",\n                    children: \"\\u274C No, this does not relate to cultural commonsense\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), errors.cultural && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-600 mt-3 font-medium\",\n                children: errors.cultural\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), showSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl animate-bounce-in\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600 mr-3 text-xl\",\n                  children: \"\\u2728\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-800 font-semibold\",\n                  children: \"Response saved successfully!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center pt-6 border-t border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePrevious,\n                disabled: isFirstQuestion || isNavigating,\n                className: \"flex items-center px-6 py-3 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 font-semibold rounded-2xl transition-all duration-200 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-2\",\n                  children: \"\\u2190\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this), \"Previous\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSkip,\n                  disabled: isNavigating,\n                  className: \"px-6 py-3 bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-white font-semibold rounded-2xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg\",\n                  children: \"Skip Question\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  disabled: isSaving || !answer.trim() || culturalCommonsense === null || isNavigating,\n                  className: \"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold rounded-2xl transition-all duration-200 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 shadow-lg\",\n                  children: isSaving ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 25\n                    }, this), \"Saving...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this) : 'Save'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleNext,\n                  disabled: isSaving || !answer.trim() || culturalCommonsense === null || isNavigating,\n                  className: \"flex items-center px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold rounded-2xl transition-all duration-200 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 shadow-lg\",\n                  children: isNavigating ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 25\n                    }, this), \"Moving...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [\"Save & Continue\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-2\",\n                      children: \"\\u2192\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n}\n\n// Celebration Component\n_s(QuestionForm, \"KlkIz2pyMsuP+u/Ze2kvEov5HZQ=\", false, function () {\n  return [useForm];\n});\n_c = QuestionForm;\nfunction CelebrationOverlay({\n  type,\n  currentQuestionData\n}) {\n  const celebrations = {\n    topic: {\n      icon: 'üéØ',\n      title: 'Topic Completed!',\n      message: `Great work finishing \"${currentQuestionData.topic}\"!`,\n      confetti: 'üéäüåü‚ú®',\n      gradient: 'from-green-400 to-blue-500'\n    },\n    subcategory: {\n      icon: 'üèÜ',\n      title: 'Subcategory Mastered!',\n      message: `Excellent! You've completed \"${currentQuestionData.subcategory}\"!`,\n      confetti: 'üéâüéäüåüüí´',\n      gradient: 'from-purple-400 to-pink-500'\n    },\n    category: {\n      icon: 'üëë',\n      title: 'Category Champion!',\n      message: `Amazing! You've conquered the entire \"${currentQuestionData.category}\" category!`,\n      confetti: 'üéâüéäüåüüí´‚ú®üéØ',\n      gradient: 'from-yellow-400 via-red-500 to-purple-600'\n    }\n  };\n  const celebration = celebrations[type];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-3xl p-8 max-w-md mx-4 text-center transform animate-bounce-in shadow-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-6xl mb-4 animate-pulse\",\n        children: celebration.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: `text-3xl font-bold bg-gradient-to-r ${celebration.gradient} bg-clip-text text-transparent mb-4`,\n        children: celebration.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 text-lg mb-6\",\n        children: celebration.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-4xl animate-bounce\",\n        children: celebration.confetti\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 499,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CelebrationOverlay;\nvar _c, _c2;\n$RefreshReg$(_c, \"QuestionForm\");\n$RefreshReg$(_c2, \"CelebrationOverlay\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useForm","validateAnswer","AttentionCheck","ProgressBar","jsxDEV","_jsxDEV","Fragment","_Fragment","QuestionForm","_s","state","saveResponse","navigateToNext","navigateToPrevious","getCurrentQuestionData","getTotalQuestionsInCurrentTopic","getCompletedQuestionsInCurrentTopic","resetSession","answer","setAnswer","culturalCommonsense","setCulturalCommonsense","errors","setErrors","isSaving","setIsSaving","showAttentionCheck","setShowAttentionCheck","attentionCheck","setAttentionCheck","startTime","setStartTime","Date","now","showSuccess","setShowSuccess","lastQuestionId","setLastQuestionId","isNavigating","setIsNavigating","navigationDirection","setNavigationDirection","showCelebration","setShowCelebration","textareaRef","currentQuestionData","questionId","console","log","existingResponse","responses","get","current","style","height","scrollHeight","validateForm","newErrors","answerValidation","isValid","message","cultural","Object","keys","length","handleAnswerChange","e","target","value","prev","undefined","handleCulturalChange","handleClear","focus","checkForMilestones","categoryIndex","subcategoryIndex","topicIndex","questionIndex","currentPosition","currentCategory","questionsData","currentSubcategory","subcategories","currentTopic","topics","questions","handleSave","sessionId","timeSpent","Math","floor","response","category","subcategory","topic","question","trim","timestamp","toISOString","setTimeout","error","alert","handleNext","milestone","handlePrevious","handleSkip","onComplete","fileName","_jsxFileName","lineNumber","columnNumber","className","children","topicProgress","completedInTopic","currentQuestionInTopic","isFirstQuestion","CelebrationOverlay","type","width","htmlFor","onClick","ref","id","onChange","placeholder","maxLength","disabled","checked","_c","celebrations","icon","title","confetti","gradient","celebration","_c2","$RefreshReg$"],"sources":["C:/Users/sangm/OneDrive - Brock University/CommonsenseForm/client/src/components/QuestionForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useForm } from '../context/FormContext.tsx';\r\nimport { validateAnswer } from '../utils/helpers.ts';\r\nimport AttentionCheck from './AttentionCheck.tsx';\r\nimport ProgressBar from './ProgressBar.tsx';\r\n\r\nexport default function QuestionForm() {\r\n  const {\r\n    state,\r\n    saveResponse,\r\n    navigateToNext,\r\n    navigateToPrevious,\r\n    getCurrentQuestionData,\r\n    getTotalQuestionsInCurrentTopic,\r\n    getCompletedQuestionsInCurrentTopic,\r\n    resetSession\r\n  } = useForm();\r\n\r\n  const [answer, setAnswer] = useState('');\r\n  const [culturalCommonsense, setCulturalCommonsense] = useState<boolean | null>(null);\r\n  const [errors, setErrors] = useState<{ answer?: string; cultural?: string }>({});\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [showAttentionCheck, setShowAttentionCheck] = useState(false);\r\n  const [attentionCheck, setAttentionCheck] = useState<any>(null);\r\n  const [startTime, setStartTime] = useState(Date.now());\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [lastQuestionId, setLastQuestionId] = useState<string | null>(null);\r\n  const [isNavigating, setIsNavigating] = useState(false);\r\n  const [navigationDirection, setNavigationDirection] = useState<'next' | 'previous' | null>(null);\r\n  const [showCelebration, setShowCelebration] = useState<string | null>(null);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  const currentQuestionData = getCurrentQuestionData();\r\n\r\n  // Reset form when question changes\r\n  useEffect(() => {\r\n    if (currentQuestionData && currentQuestionData.questionId !== lastQuestionId) {\r\n      console.log('Question changed, loading data for:', currentQuestionData.questionId);\r\n      \r\n      // Reset form state\r\n      setErrors({});\r\n      setShowSuccess(false);\r\n      setStartTime(Date.now());\r\n      setLastQuestionId(currentQuestionData.questionId);\r\n      setIsNavigating(false);\r\n      setNavigationDirection(null);\r\n      \r\n      // Load existing response or reset\r\n      const existingResponse = state.responses.get(currentQuestionData.questionId);\r\n      if (existingResponse) {\r\n        console.log('Found existing response:', existingResponse);\r\n        setAnswer(existingResponse.answer);\r\n        setCulturalCommonsense(existingResponse.culturalCommonsense);\r\n      } else {\r\n        console.log('No existing response, clearing form');\r\n        setAnswer('');\r\n        setCulturalCommonsense(null);\r\n      }\r\n    }\r\n  }, [currentQuestionData?.questionId, lastQuestionId, state.responses]);\r\n\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\r\n    }\r\n  }, [answer]);\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { answer?: string; cultural?: string } = {};\r\n    \r\n    const answerValidation = validateAnswer(answer);\r\n    if (!answerValidation.isValid) {\r\n      newErrors.answer = answerValidation.message;\r\n    }\r\n\r\n    if (culturalCommonsense === null) {\r\n      newErrors.cultural = 'Please select whether this pertains to cultural commonsense';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleAnswerChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setAnswer(e.target.value);\r\n    if (errors.answer) {\r\n      setErrors(prev => ({ ...prev, answer: undefined }));\r\n    }\r\n  };\r\n\r\n  const handleCulturalChange = (value: boolean) => {\r\n    setCulturalCommonsense(value);\r\n    if (errors.cultural) {\r\n      setErrors(prev => ({ ...prev, cultural: undefined }));\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setAnswer('');\r\n    setCulturalCommonsense(null);\r\n    setErrors({});\r\n    setShowSuccess(false);\r\n    if (textareaRef.current) {\r\n      textareaRef.current.focus();\r\n    }\r\n  };\r\n\r\n  const checkForMilestones = () => {\r\n    const { categoryIndex, subcategoryIndex, topicIndex, questionIndex } = state.currentPosition;\r\n    const currentCategory = state.questionsData[categoryIndex];\r\n    const currentSubcategory = currentCategory?.subcategories[subcategoryIndex];\r\n    const currentTopic = currentSubcategory?.topics[topicIndex];\r\n    \r\n    if (!currentTopic) return null;\r\n\r\n    // Check if this is the last question in the topic\r\n    if (questionIndex === currentTopic.questions.length - 1) {\r\n      // Check if this is also the last topic in subcategory\r\n      if (topicIndex === currentSubcategory.topics.length - 1) {\r\n        // Check if this is also the last subcategory in category\r\n        if (subcategoryIndex === currentCategory.subcategories.length - 1) {\r\n          return 'category';\r\n        }\r\n        return 'subcategory';\r\n      }\r\n      return 'topic';\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!validateForm() || !currentQuestionData || !state.sessionId) return;\r\n\r\n    setIsSaving(true);\r\n    \r\n    try {\r\n      const timeSpent = Math.floor((Date.now() - startTime) / 1000);\r\n      \r\n      const response = {\r\n        sessionId: state.sessionId,\r\n        questionId: currentQuestionData.questionId,\r\n        categoryIndex: state.currentPosition.categoryIndex,\r\n        subcategoryIndex: state.currentPosition.subcategoryIndex,\r\n        topicIndex: state.currentPosition.topicIndex,\r\n        questionIndex: state.currentPosition.questionIndex,\r\n        category: currentQuestionData.category,\r\n        subcategory: currentQuestionData.subcategory,\r\n        topic: currentQuestionData.topic,\r\n        question: currentQuestionData.question,\r\n        answer: answer.trim(),\r\n        culturalCommonsense: culturalCommonsense!,\r\n        timeSpent,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      await saveResponse(response);\r\n      setShowSuccess(true);\r\n      setTimeout(() => setShowSuccess(false), 2000);\r\n      \r\n    } catch (error) {\r\n      console.error('SAVE ERROR:', error);\r\n      alert('Failed to save response: ' + (error as Error).message);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleNext = async () => {\r\n    await handleSave();\r\n    if (Object.keys(errors).length === 0 && answer.trim() && culturalCommonsense !== null) {\r\n      // Check for milestone before navigating\r\n      const milestone = checkForMilestones();\r\n      \r\n      setNavigationDirection('next');\r\n      setIsNavigating(true);\r\n      \r\n      setTimeout(() => {\r\n        navigateToNext();\r\n        \r\n        // Show celebration if milestone reached\r\n        if (milestone) {\r\n          setShowCelebration(milestone);\r\n          setTimeout(() => setShowCelebration(null), 3000);\r\n        }\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    setNavigationDirection('previous');\r\n    setIsNavigating(true);\r\n    \r\n    setTimeout(() => {\r\n      navigateToPrevious();\r\n    }, 300);\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    setAnswer('');\r\n    setCulturalCommonsense(null);\r\n    setErrors({});\r\n    \r\n    setNavigationDirection('next');\r\n    setIsNavigating(true);\r\n    \r\n    setTimeout(() => {\r\n      navigateToNext();\r\n    }, 300);\r\n  };\r\n\r\n  if (showAttentionCheck && attentionCheck) {\r\n    return <AttentionCheck attentionCheck={attentionCheck} onComplete={() => {}} />;\r\n  }\r\n\r\n  if (!currentQuestionData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading question...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const topicProgress = getTotalQuestionsInCurrentTopic();\r\n  const completedInTopic = getCompletedQuestionsInCurrentTopic();\r\n  const currentQuestionInTopic = state.currentPosition.questionIndex + 1;\r\n  const isFirstQuestion = state.currentPosition.categoryIndex === 0 && \r\n                         state.currentPosition.subcategoryIndex === 0 && \r\n                         state.currentPosition.topicIndex === 0 && \r\n                         state.currentPosition.questionIndex === 0;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50\">\r\n      <ProgressBar />\r\n      \r\n      {/* Celebration Overlay */}\r\n      {showCelebration && (\r\n        <CelebrationOverlay type={showCelebration} currentQuestionData={currentQuestionData} />\r\n      )}\r\n      \r\n      <div className=\"max-w-5xl mx-auto px-6 py-8\">\r\n        {/* Question Card */}\r\n        <div className={`transform transition-all duration-500 ease-in-out ${\r\n          isNavigating \r\n            ? navigationDirection === 'next' \r\n              ? 'translate-x-[-100%] opacity-0 scale-95' \r\n              : 'translate-x-[100%] opacity-0 scale-95'\r\n            : 'translate-x-0 opacity-100 scale-100'\r\n        }`}>\r\n          \r\n          {/* Topic Header Card */}\r\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl p-8 mb-8 border border-white/20 hover:shadow-3xl transition-all duration-300\">\r\n            <div className=\"text-center mb-6\">\r\n              <div className=\"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full text-sm font-medium mb-6 shadow-lg\">\r\n                <span className=\"mr-2\">üìã</span>\r\n                Question {currentQuestionInTopic} of {topicProgress} in this topic\r\n              </div>\r\n              \r\n              <h1 className=\"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4\">\r\n                {currentQuestionData.topic}\r\n              </h1>\r\n              \r\n              <div className=\"flex items-center justify-center space-x-3 text-sm\">\r\n                <span className=\"px-4 py-2 bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800 rounded-full font-medium shadow-sm\">\r\n                  {currentQuestionData.category}\r\n                </span>\r\n                <span className=\"text-gray-400\">‚Ä¢</span>\r\n                <span className=\"px-4 py-2 bg-gradient-to-r from-green-100 to-green-200 text-green-800 rounded-full font-medium shadow-sm\">\r\n                  {currentQuestionData.subcategory}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Topic Progress Bar */}\r\n            <div className=\"relative\">\r\n              <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\r\n                <div \r\n                  className=\"bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 h-3 rounded-full transition-all duration-1000 ease-out relative\"\r\n                  style={{ width: `${(completedInTopic / topicProgress) * 100}%` }}\r\n                >\r\n                  <div className=\"absolute inset-0 bg-white opacity-30 animate-pulse\"></div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"text-center text-sm text-gray-600 mt-3 font-medium\">\r\n                {completedInTopic} of {topicProgress} questions completed in this topic\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Question Card */}\r\n          <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden hover:shadow-3xl transition-all duration-300\">\r\n            \r\n            {/* Question Header */}\r\n            <div className=\"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-8 text-white\">\r\n              <h2 className=\"text-xl md:text-2xl font-semibold leading-relaxed\">\r\n                {currentQuestionData.question}\r\n              </h2>\r\n            </div>\r\n\r\n            {/* Answer Section */}\r\n            <div className=\"p-8\">\r\n              <div className=\"mb-8\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <label htmlFor=\"main-answer\" className=\"block text-lg font-semibold text-gray-800\">\r\n                    Your Answer *\r\n                  </label>\r\n                  <button\r\n                    onClick={handleClear}\r\n                    className=\"text-sm text-indigo-600 hover:text-indigo-800 font-medium hover:underline transition-colors\"\r\n                  >\r\n                    Clear Form\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"relative\">\r\n                  <textarea\r\n                    ref={textareaRef}\r\n                    id=\"main-answer\"\r\n                    value={answer}\r\n                    onChange={handleAnswerChange}\r\n                    placeholder=\"Share your knowledge about cultural practices in your region...\"\r\n                    className={`w-full px-6 py-4 border-2 rounded-2xl focus:ring-4 focus:ring-indigo-200 resize-none min-h-[150px] transition-all duration-200 font-medium text-gray-700 ${\r\n                      errors.answer ? 'border-red-300 focus:border-red-500' : 'border-gray-200 focus:border-indigo-400'\r\n                    }`}\r\n                    maxLength={5000}\r\n                    disabled={isSaving}\r\n                  />\r\n                  \r\n                  {/* Character count badge */}\r\n                  <div className=\"absolute bottom-4 right-4 px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-500\">\r\n                    {answer.length}/5000\r\n                  </div>\r\n                </div>\r\n                \r\n                {errors.answer && (\r\n                  <p className=\"text-sm text-red-600 mt-2 font-medium\">{errors.answer}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Cultural Commonsense Section */}\r\n              <div className=\"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100\">\r\n                <h3 className=\"font-bold text-indigo-900 mb-4 text-lg\">\r\n                  üß† Cultural Commonsense Assessment\r\n                </h3>\r\n                <p className=\"text-sm text-indigo-800 mb-4 leading-relaxed\">\r\n                  Cultural commonsense refers to everyday beliefs, behaviors, values, and practices \r\n                  that are perceived as \"natural\" and widely shared within a cultural group.\r\n                </p>\r\n                <p className=\"font-semibold text-indigo-900 mb-4\">\r\n                  Does this question pertain to cultural commonsense in your region? *\r\n                </p>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  <div \r\n                    className=\"flex items-center cursor-pointer p-4 rounded-xl hover:bg-white/60 transition-colors\"\r\n                    onClick={() => handleCulturalChange(true)}\r\n                  >\r\n                    <input\r\n                      type=\"radio\"\r\n                      id=\"cultural-yes\"\r\n                      checked={culturalCommonsense === true}\r\n                      onChange={() => handleCulturalChange(true)}\r\n                      disabled={isSaving}\r\n                      className=\"h-5 w-5 text-indigo-600 focus:ring-indigo-500\"\r\n                    />\r\n                    <label htmlFor=\"cultural-yes\" className=\"ml-4 text-gray-800 font-medium cursor-pointer\">\r\n                      ‚úÖ Yes, this relates to cultural commonsense\r\n                    </label>\r\n                  </div>\r\n                  \r\n                  <div \r\n                    className=\"flex items-center cursor-pointer p-4 rounded-xl hover:bg-white/60 transition-colors\"\r\n                    onClick={() => handleCulturalChange(false)}\r\n                  >\r\n                    <input\r\n                      type=\"radio\"\r\n                      id=\"cultural-no\"\r\n                      checked={culturalCommonsense === false}\r\n                      onChange={() => handleCulturalChange(false)}\r\n                      disabled={isSaving}\r\n                      className=\"h-5 w-5 text-indigo-600 focus:ring-indigo-500\"\r\n                    />\r\n                    <label htmlFor=\"cultural-no\" className=\"ml-4 text-gray-800 font-medium cursor-pointer\">\r\n                      ‚ùå No, this does not relate to cultural commonsense\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                \r\n                {errors.cultural && (\r\n                  <p className=\"text-sm text-red-600 mt-3 font-medium\">{errors.cultural}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Success Message */}\r\n              {showSuccess && (\r\n                <div className=\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl animate-bounce-in\">\r\n                  <div className=\"flex items-center\">\r\n                    <span className=\"text-green-600 mr-3 text-xl\">‚ú®</span>\r\n                    <span className=\"text-green-800 font-semibold\">Response saved successfully!</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation Buttons */}\r\n              <div className=\"flex justify-between items-center pt-6 border-t border-gray-200\">\r\n                <button\r\n                  onClick={handlePrevious}\r\n                  disabled={isFirstQuestion || isNavigating}\r\n                  className=\"flex items-center px-6 py-3 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 font-semibold rounded-2xl transition-all duration-200 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95\"\r\n                >\r\n                  <span className=\"mr-2\">‚Üê</span>\r\n                  Previous\r\n                </button>\r\n\r\n                <div className=\"flex space-x-4\">\r\n                  <button\r\n                    onClick={handleSkip}\r\n                    disabled={isNavigating}\r\n                    className=\"px-6 py-3 bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-white font-semibold rounded-2xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg\"\r\n                  >\r\n                    Skip Question\r\n                  </button>\r\n\r\n                  <button\r\n                    onClick={handleSave}\r\n                    disabled={isSaving || !answer.trim() || culturalCommonsense === null || isNavigating}\r\n                    className=\"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold rounded-2xl transition-all duration-200 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 shadow-lg\"\r\n                  >\r\n                    {isSaving ? (\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                        Saving...\r\n                      </div>\r\n                    ) : (\r\n                      'Save'\r\n                    )}\r\n                  </button>\r\n\r\n                  <button\r\n                    onClick={handleNext}\r\n                    disabled={isSaving || !answer.trim() || culturalCommonsense === null || isNavigating}\r\n                    className=\"flex items-center px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold rounded-2xl transition-all duration-200 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 shadow-lg\"\r\n                  >\r\n                    {isNavigating ? (\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                        Moving...\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        Save & Continue\r\n                        <span className=\"ml-2\">‚Üí</span>\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Celebration Component\r\nfunction CelebrationOverlay({ type, currentQuestionData }: { type: string, currentQuestionData: any }) {\r\n  const celebrations = {\r\n    topic: {\r\n      icon: 'üéØ',\r\n      title: 'Topic Completed!',\r\n      message: `Great work finishing \"${currentQuestionData.topic}\"!`,\r\n      confetti: 'üéäüåü‚ú®',\r\n      gradient: 'from-green-400 to-blue-500'\r\n    },\r\n    subcategory: {\r\n      icon: 'üèÜ',\r\n      title: 'Subcategory Mastered!',\r\n      message: `Excellent! You've completed \"${currentQuestionData.subcategory}\"!`,\r\n      confetti: 'üéâüéäüåüüí´',\r\n      gradient: 'from-purple-400 to-pink-500'\r\n    },\r\n    category: {\r\n      icon: 'üëë',\r\n      title: 'Category Champion!',\r\n      message: `Amazing! You've conquered the entire \"${currentQuestionData.category}\" category!`,\r\n      confetti: 'üéâüéäüåüüí´‚ú®üéØ',\r\n      gradient: 'from-yellow-400 via-red-500 to-purple-600'\r\n    }\r\n  };\r\n\r\n  const celebration = celebrations[type as keyof typeof celebrations];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in\">\r\n      <div className=\"bg-white rounded-3xl p-8 max-w-md mx-4 text-center transform animate-bounce-in shadow-2xl\">\r\n        <div className=\"text-6xl mb-4 animate-pulse\">{celebration.icon}</div>\r\n        <h2 className={`text-3xl font-bold bg-gradient-to-r ${celebration.gradient} bg-clip-text text-transparent mb-4`}>\r\n          {celebration.title}\r\n        </h2>\r\n        <p className=\"text-gray-700 text-lg mb-6\">{celebration.message}</p>\r\n        <div className=\"text-4xl animate-bounce\">\r\n          {celebration.confetti}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}