{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sangm\\\\OneDrive - Brock University\\\\CommonsenseForm\\\\client\\\\src\\\\components\\\\QuestionForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useForm } from '../context/FormContext.tsx';\nimport { validateAnswer, shouldShowAttentionCheck, generateAttentionCheck, analyzeResponseQuality, analyzeUserPattern } from '../utils/helpers.ts';\nimport ProgressBar from './ProgressBar.tsx';\nimport NavigationMenu from './NavigationMenu.tsx';\nimport QualityWarningModal from './QualityWarningModel.tsx';\nimport * as api from '../services/api.ts';\n\n// CONFIGURABLE MAX TIME (in minutes)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MAX_TIME_PER_QUESTION = 15; // Change this value to adjust max time\n\nexport default function QuestionForm() {\n  _s();\n  const {\n    state,\n    saveResponse,\n    navigateToNext,\n    navigateToPrevious,\n    getCurrentQuestionData,\n    getTotalQuestionsInCurrentTopic,\n    getCompletedQuestionsInCurrentTopic,\n    resetSession,\n    navigateToPosition\n  } = useForm();\n\n  // Basic form state\n  const [answer, setAnswer] = useState('');\n  const [errors, setErrors] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n  const [startTime, setStartTime] = useState(Date.now());\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [lastQuestionId, setLastQuestionId] = useState(null);\n  const [isNavigating, setIsNavigating] = useState(false);\n  const [navigationDirection, setNavigationDirection] = useState(null);\n  const [showNavigationMenu, setShowNavigationMenu] = useState(false);\n\n  // Timer state\n  const [timeRemaining, setTimeRemaining] = useState(MAX_TIME_PER_QUESTION * 60); // Convert to seconds\n  const [showTimeWarning, setShowTimeWarning] = useState(false);\n  const [isTimeUp, setIsTimeUp] = useState(false);\n  const timerRef = useRef(null);\n\n  // Attention check state\n  const [isAttentionCheck, setIsAttentionCheck] = useState(false);\n  const [attentionCheck, setAttentionCheck] = useState(null);\n  const [lastAttentionCheckAt, setLastAttentionCheckAt] = useState(-1);\n  const [attentionChecksPassed, setAttentionChecksPassed] = useState(0);\n  const [attentionChecksFailed, setAttentionChecksFailed] = useState(0);\n\n  // Quality tracking state\n  const [showQualityModal, setShowQualityModal] = useState(false);\n  const [qualityWarnings, setQualityWarnings] = useState([]);\n  const [lastQualityAlertAt, setLastQualityAlertAt] = useState(-1);\n  const [hasShownQualityAlert, setHasShownQualityAlert] = useState(false);\n  const [currentQualityIssue, setCurrentQualityIssue] = useState({\n    type: null,\n    noneRate: 0,\n    gibberishRate: 0,\n    speedRate: 0\n  });\n\n  // Celebration state\n  const [showCelebration, setShowCelebration] = useState(null);\n  const textareaRef = useRef(null);\n  const currentQuestionData = getCurrentQuestionData();\n\n  // Timer effect - runs every second\n  useEffect(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    timerRef.current = setInterval(() => {\n      setTimeRemaining(prev => {\n        const newTime = prev - 1;\n\n        // Show warning at 2 minutes remaining\n        if (newTime === 120 && !showTimeWarning) {\n          setShowTimeWarning(true);\n        }\n\n        // Auto-save and move to next when time is up\n        if (newTime <= 0) {\n          setIsTimeUp(true);\n          handleTimeUp();\n          return 0;\n        }\n        return newTime;\n      });\n    }, 1000);\n\n    // Cleanup timer on unmount\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [startTime]);\n\n  // Auto-save when time is up\n  const handleTimeUp = async () => {\n    console.log('Time is up! Auto-saving and moving to next question');\n    if (answer.trim().length >= 4) {\n      // Save the current answer\n      try {\n        await performSave();\n        setTimeout(() => {\n          navigateToNext();\n        }, 1000);\n      } catch (error) {\n        console.error('Auto-save failed:', error);\n        navigateToNext(); // Move anyway\n      }\n    } else {\n      // No valid answer, just move to next\n      navigateToNext();\n    }\n  };\n\n  // Format time remaining for display\n  const formatTimeRemaining = seconds => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  // Get timer color based on time remaining\n  const getTimerColor = () => {\n    if (timeRemaining <= 60) return '#dc2626'; // Red - last minute\n    if (timeRemaining <= 120) return '#d97706'; // Orange - last 2 minutes\n    if (timeRemaining <= 300) return '#ca8a04'; // Yellow - last 5 minutes\n    return 'var(--text-secondary)'; // Normal color\n  };\n\n  // Check if this should be an attention check (every 7 questions)\n  useEffect(() => {\n    const totalResponses = state.responses.size;\n    if (lastAttentionCheckAt === totalResponses) return;\n    if (shouldShowAttentionCheck(totalResponses) && currentQuestionData) {\n      console.log('SHOWING ATTENTION CHECK at response count:', totalResponses);\n      const check = generateAttentionCheck(currentQuestionData.category, currentQuestionData.topic, state.userInfo || undefined);\n      setAttentionCheck(check);\n      setIsAttentionCheck(true);\n      setLastAttentionCheckAt(totalResponses);\n      setAnswer(''); // Clear any existing answer\n    } else if (!shouldShowAttentionCheck(totalResponses)) {\n      setIsAttentionCheck(false);\n      setAttentionCheck(null);\n    }\n  }, [state.responses.size, lastAttentionCheckAt, currentQuestionData]);\n\n  // Reset form when question changes\n  useEffect(() => {\n    if (currentQuestionData && currentQuestionData.questionId !== lastQuestionId) {\n      console.log('Question changed, loading data for:', currentQuestionData.questionId);\n      setErrors({});\n      setShowSuccess(false);\n      setStartTime(Date.now());\n      setLastQuestionId(currentQuestionData.questionId);\n      setIsNavigating(false);\n      setNavigationDirection(null);\n      setQualityWarnings([]);\n\n      // Reset timer for new question\n      setTimeRemaining(MAX_TIME_PER_QUESTION * 60);\n      setShowTimeWarning(false);\n      setIsTimeUp(false);\n\n      // Don't load existing response for attention checks\n      if (!isAttentionCheck) {\n        const existingResponse = state.responses.get(currentQuestionData.questionId);\n        if (existingResponse) {\n          console.log('Found existing response:', existingResponse);\n          setAnswer(existingResponse.answer);\n        } else {\n          console.log('No existing response, clearing form');\n          setAnswer('');\n        }\n      } else {\n        // For attention checks, always start with empty answer\n        setAnswer('');\n      }\n    }\n  }, [currentQuestionData === null || currentQuestionData === void 0 ? void 0 : currentQuestionData.questionId, lastQuestionId, state.responses, isAttentionCheck]);\n\n  // Quality check logic (skip for attention checks)\n  useEffect(() => {\n    const totalResponses = state.responses.size;\n    if (totalResponses < 5 || showQualityModal || isAttentionCheck) return;\n    const allResponses = Array.from(state.responses.values());\n    const analysisData = allResponses.map(r => ({\n      answer: r.answer,\n      timeSpent: r.timeSpent\n    }));\n    const patternAnalysis = analyzeUserPattern(analysisData);\n    if (patternAnalysis.suspiciousPattern && !hasShownQualityAlert) {\n      console.log('SHOWING QUALITY ALERT: First detection at', totalResponses);\n      setShowQualityModal(true);\n      setLastQualityAlertAt(totalResponses);\n      setHasShownQualityAlert(true);\n      setQualityWarnings(patternAnalysis.warnings);\n      setCurrentQualityIssue({\n        type: patternAnalysis.issueType,\n        noneRate: patternAnalysis.noneResponseRate,\n        gibberishRate: patternAnalysis.gibberishResponseRate,\n        speedRate: patternAnalysis.fastResponseRate\n      });\n    } else if (patternAnalysis.suspiciousPattern && hasShownQualityAlert && lastQualityAlertAt > 0 && totalResponses - lastQualityAlertAt >= 5) {\n      console.log('SHOWING QUALITY ALERT: Persistent issue after 5 responses');\n      setShowQualityModal(true);\n      setLastQualityAlertAt(totalResponses);\n      setQualityWarnings(patternAnalysis.warnings);\n      setCurrentQualityIssue({\n        type: patternAnalysis.issueType,\n        noneRate: patternAnalysis.noneResponseRate,\n        gibberishRate: patternAnalysis.gibberishResponseRate,\n        speedRate: patternAnalysis.fastResponseRate\n      });\n    }\n  }, [state.responses.size, showQualityModal, hasShownQualityAlert, lastQualityAlertAt, isAttentionCheck]);\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [answer]);\n  const validateForm = () => {\n    const newErrors = {};\n    const answerValidation = validateAnswer(answer);\n    if (!answerValidation.isValid) {\n      newErrors.answer = answerValidation.message;\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleAnswerChange = e => {\n    const newValue = e.target.value;\n    setAnswer(newValue);\n    if (errors.answer) {\n      setErrors(prev => ({\n        ...prev,\n        answer: undefined\n      }));\n    }\n\n    // Real-time quality feedback for current response only (skip for attention checks)\n    if (newValue.length > 5 && !isAttentionCheck) {\n      const qualityAnalysis = analyzeResponseQuality(newValue);\n      if (qualityAnalysis.isLowQuality) {\n        setQualityWarnings(qualityAnalysis.issues);\n      } else {\n        setQualityWarnings([]);\n      }\n    } else {\n      setQualityWarnings([]);\n    }\n  };\n  const handleClear = () => {\n    setAnswer('');\n    setErrors({});\n    setShowSuccess(false);\n    setQualityWarnings([]);\n    if (textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  };\n  const checkForMilestones = () => {\n    const {\n      categoryIndex,\n      subcategoryIndex,\n      topicIndex,\n      questionIndex\n    } = state.currentPosition;\n    const currentCategory = state.questionsData[categoryIndex];\n    const currentSubcategory = currentCategory === null || currentCategory === void 0 ? void 0 : currentCategory.subcategories[subcategoryIndex];\n    const currentTopic = currentSubcategory === null || currentSubcategory === void 0 ? void 0 : currentSubcategory.topics[topicIndex];\n    if (!currentTopic) return null;\n    if (questionIndex === currentTopic.questions.length - 1) {\n      if (topicIndex === currentSubcategory.topics.length - 1) {\n        if (subcategoryIndex === currentCategory.subcategories.length - 1) {\n          return {\n            type: 'category',\n            name: currentCategory.category,\n            subcategoryName: currentSubcategory.subcategory,\n            topicName: currentTopic.topic\n          };\n        }\n        return {\n          type: 'subcategory',\n          name: currentSubcategory.subcategory,\n          topicName: currentTopic.topic,\n          categoryName: currentCategory.category\n        };\n      }\n      return {\n        type: 'topic',\n        name: currentTopic.topic,\n        subcategoryName: currentSubcategory.subcategory,\n        categoryName: currentCategory.category\n      };\n    }\n    return null;\n  };\n  const updateAttentionCheckStats = async () => {\n    if (state.sessionId) {\n      try {\n        await api.updateUserProgress(state.sessionId, {\n          attentionChecksPassed,\n          attentionChecksFailed,\n          completedQuestions: state.responses.size\n        });\n        console.log('Updated attention check stats:', {\n          attentionChecksPassed,\n          attentionChecksFailed\n        });\n      } catch (error) {\n        console.error('Failed to update attention check stats:', error);\n      }\n    }\n  };\n\n  // SIMPLIFIED: Just save the response, no automatic validation\n  const performSave = async qualityAnalysis => {\n    if (!currentQuestionData || !state.sessionId) {\n      console.error('Missing required data for save');\n      return false;\n    }\n\n    // For attention checks, we'll create a special question ID to identify them\n    const questionId = isAttentionCheck ? `ATTENTION_CHECK_${state.responses.size}_${currentQuestionData.questionId}` : currentQuestionData.questionId;\n    const questionText = isAttentionCheck ? attentionCheck.question : currentQuestionData.question;\n    if (!qualityAnalysis) {\n      qualityAnalysis = analyzeResponseQuality(answer);\n    }\n    setIsSaving(true);\n    try {\n      const timeSpent = Math.floor((Date.now() - startTime) / 1000);\n      console.log('Time calculation:', {\n        startTime: new Date(startTime).toISOString(),\n        endTime: new Date().toISOString(),\n        timeSpentSeconds: timeSpent,\n        answerLength: answer.length,\n        maxTimeSeconds: MAX_TIME_PER_QUESTION * 60\n      });\n      const response = {\n        sessionId: state.sessionId,\n        questionId: questionId,\n        categoryIndex: state.currentPosition.categoryIndex,\n        subcategoryIndex: state.currentPosition.subcategoryIndex,\n        topicIndex: state.currentPosition.topicIndex,\n        questionIndex: state.currentPosition.questionIndex,\n        category: currentQuestionData.category,\n        subcategory: currentQuestionData.subcategory,\n        topic: currentQuestionData.topic,\n        question: questionText,\n        answer: answer.trim(),\n        timeSpent,\n        timestamp: new Date().toISOString(),\n        qualityScore: qualityAnalysis.score,\n        // Add metadata for attention checks\n        isAttentionCheck: isAttentionCheck,\n        attentionCheckType: isAttentionCheck ? attentionCheck.type : undefined,\n        expectedAnswer: isAttentionCheck ? attentionCheck.expectedAnswer : undefined\n      };\n      await saveResponse(response);\n      await updateAttentionCheckStats();\n      setShowSuccess(true);\n      setTimeout(() => setShowSuccess(false), 2000);\n      return true;\n    } catch (error) {\n      console.error('SAVE ERROR:', error);\n      throw error;\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  const handleSave = async () => {\n    if (!validateForm() || !currentQuestionData || !state.sessionId) {\n      console.log('Validation failed:', errors);\n      return false;\n    }\n    try {\n      const qualityAnalysis = analyzeResponseQuality(answer);\n      return await performSave(qualityAnalysis);\n    } catch (error) {\n      console.error('Save failed:', error);\n      alert('Failed to save response. Please try again.');\n      return false;\n    }\n  };\n  const handleNext = async () => {\n    const isValid = validateForm();\n    if (!isValid) {\n      console.log('Form validation failed, cannot proceed');\n      return;\n    }\n    try {\n      const saveSuccessful = await handleSave();\n      if (saveSuccessful && isValid) {\n        const milestone = checkForMilestones();\n        setNavigationDirection('next');\n        setIsNavigating(true);\n        setTimeout(() => {\n          navigateToNext();\n          if (milestone && !isAttentionCheck) {\n            setShowCelebration({\n              type: milestone.type,\n              data: milestone\n            });\n          }\n        }, 300);\n      }\n    } catch (error) {\n      console.error('Next navigation failed:', error);\n    }\n  };\n  const handlePrevious = () => {\n    setNavigationDirection('previous');\n    setIsNavigating(true);\n    setTimeout(() => {\n      navigateToPrevious();\n    }, 300);\n  };\n  const handleSkip = () => {\n    if (isAttentionCheck) return; // Don't allow skipping attention checks\n\n    setAnswer('');\n    setErrors({});\n    setNavigationDirection('next');\n    setIsNavigating(true);\n    setTimeout(() => {\n      navigateToNext();\n    }, 300);\n  };\n  const handleNavigateToQuestion = async (categoryIndex, subcategoryIndex, topicIndex, questionIndex) => {\n    const isValid = validateForm();\n    if (isValid && answer.trim()) {\n      console.log('QuestionForm: Saving current response before navigation');\n      try {\n        await handleSave();\n      } catch (error) {\n        console.error('Failed to save before navigation:', error);\n      }\n    }\n    console.log('QuestionForm: Navigating to:', categoryIndex, subcategoryIndex, topicIndex, questionIndex);\n    await navigateToPosition(categoryIndex, subcategoryIndex, topicIndex, questionIndex);\n  };\n  const handleQualityModalClose = () => {\n    console.log('Quality modal closed - user will improve response');\n    setShowQualityModal(false);\n    setAnswer('');\n    setErrors({});\n    setTimeout(() => {\n      if (textareaRef.current) {\n        textareaRef.current.focus();\n      }\n    }, 100);\n  };\n  const closeCelebration = () => {\n    setShowCelebration(null);\n  };\n  if (!currentQuestionData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading question...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this);\n  }\n  const topicProgress = getTotalQuestionsInCurrentTopic();\n  const completedInTopic = getCompletedQuestionsInCurrentTopic();\n  const currentQuestionInTopic = state.currentPosition.questionIndex + 1;\n  const isFirstQuestion = state.currentPosition.categoryIndex === 0 && state.currentPosition.subcategoryIndex === 0 && state.currentPosition.topicIndex === 0 && state.currentPosition.questionIndex === 0;\n  const isFormValid = answer.trim().length >= 4;\n\n  // For attention checks, use the attention check question, but make it look like a regular question\n  const displayQuestionData = isAttentionCheck ? {\n    topic: currentQuestionData.topic,\n    // Keep the current topic\n    category: currentQuestionData.category,\n    // Keep the current category\n    subcategory: currentQuestionData.subcategory,\n    // Keep the current subcategory\n    question: attentionCheck.question // Use the attention check question\n  } : currentQuestionData;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen\",\n    style: {\n      background: `linear-gradient(135deg, var(--bg-primary) 0%, var(--color-cream) 50%, var(--bg-secondary) 100%)`\n    },\n    children: [/*#__PURE__*/_jsxDEV(ProgressBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-20 left-6 z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 rounded-full shadow-lg backdrop-blur-sm transition-all duration-200\",\n        style: {\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          border: `2px solid ${getTimerColor()}`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold\",\n            style: {\n              color: getTimerColor()\n            },\n            children: [\"\\u23F1\\uFE0F \", formatTimeRemaining(timeRemaining)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-20 right-6 z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowNavigationMenu(true),\n        className: \"p-3 rounded-full shadow-lg transition-all duration-200 hover:scale-110\",\n        style: {\n          background: 'var(--btn-primary-bg)',\n          color: 'var(--text-on-dark)'\n        },\n        title: \"Navigation Menu\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl\",\n          children: \"\\uD83D\\uDCCB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 7\n    }, this), showTimeWarning && !isTimeUp && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-2xl p-6 max-w-md mx-auto text-center shadow-2xl animate-bounce-in\",\n        style: {\n          backgroundColor: 'var(--bg-card)',\n          border: '2px solid #d97706'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl mb-3\",\n          children: \"\\u23F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-3\",\n          style: {\n            color: '#d97706'\n          },\n          children: \"2 Minutes Remaining!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm mb-4\",\n          style: {\n            color: 'var(--text-primary)'\n          },\n          children: \"You have less than 2 minutes left on this question. The form will automatically save your current answer and move to the next question when time is up.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowTimeWarning(false),\n          className: \"px-4 py-2 font-medium rounded-lg transition-all duration-200\",\n          style: {\n            background: '#d97706',\n            color: 'white'\n          },\n          children: \"Continue Working\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 9\n    }, this), isTimeUp && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-2xl p-6 max-w-md mx-auto text-center shadow-2xl animate-bounce-in\",\n        style: {\n          backgroundColor: 'var(--bg-card)',\n          border: '2px solid #dc2626'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl mb-3\",\n          children: \"\\u23F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-3\",\n          style: {\n            color: '#dc2626'\n          },\n          children: \"Time's Up!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm mb-4\",\n          style: {\n            color: 'var(--text-primary)'\n          },\n          children: answer.trim().length >= 4 ? 'Your response has been automatically saved and we\\'re moving to the next question.' : 'Moving to the next question since no valid response was provided.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NavigationMenu, {\n      isOpen: showNavigationMenu,\n      onClose: () => setShowNavigationMenu(false),\n      onNavigateTo: handleNavigateToQuestion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), !isAttentionCheck && /*#__PURE__*/_jsxDEV(QualityWarningModal, {\n      isOpen: showQualityModal,\n      onClose: handleQualityModalClose,\n      qualityIssues: qualityWarnings,\n      issueType: currentQualityIssue.type,\n      noneResponseRate: currentQualityIssue.noneRate,\n      gibberishResponseRate: currentQualityIssue.gibberishRate,\n      fastResponseRate: currentQualityIssue.speedRate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 9\n    }, this), showCelebration && /*#__PURE__*/_jsxDEV(CelebrationModal, {\n      celebration: showCelebration,\n      onClose: closeCelebration\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 py-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `transform transition-all duration-500 ease-in-out ${isNavigating ? navigationDirection === 'next' ? '-translate-x-full opacity-0' : 'translate-x-full opacity-0' : 'translate-x-0 opacity-100'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"backdrop-blur-sm rounded-2xl shadow-lg p-6 mb-6\",\n            style: {\n              backgroundColor: 'var(--bg-card)',\n              border: '1px solid var(--border-light)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inline-flex items-center px-4 py-2 text-white rounded-full text-sm font-medium mb-4 shadow-sm\",\n                style: {\n                  background: 'var(--btn-primary-bg)'\n                },\n                children: [\"Question \", currentQuestionInTopic, \" of \", topicProgress]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl md:text-3xl font-semibold mb-3\",\n                style: {\n                  color: 'var(--text-primary)'\n                },\n                children: displayQuestionData.topic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center space-x-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-3 py-1 rounded-full font-medium\",\n                  style: {\n                    backgroundColor: 'var(--tag-category-bg)',\n                    color: 'var(--tag-category-text)',\n                    border: '1px solid var(--border-light)'\n                  },\n                  children: displayQuestionData.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 705,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'var(--text-muted)'\n                  },\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-3 py-1 rounded-full font-medium\",\n                  style: {\n                    backgroundColor: 'var(--tag-subcategory-bg)',\n                    color: 'var(--tag-subcategory-text)',\n                    border: '1px solid var(--border-light)'\n                  },\n                  children: displayQuestionData.subcategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full rounded-full h-2 overflow-hidden\",\n                style: {\n                  backgroundColor: 'var(--bg-progress)'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-2 rounded-full transition-all duration-1000 ease-out\",\n                  style: {\n                    background: 'var(--bg-progress-fill)',\n                    width: `${completedInTopic / topicProgress * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 735,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-sm mt-2\",\n                style: {\n                  color: 'var(--text-secondary)'\n                },\n                children: [completedInTopic, \" of \", topicProgress, \" questions completed\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden\",\n            style: {\n              backgroundColor: 'var(--bg-card)',\n              border: '1px solid var(--border-light)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              style: {\n                background: 'var(--bg-card-header)',\n                color: 'var(--text-on-dark)'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg md:text-xl font-medium leading-relaxed flex-1\",\n                  children: displayQuestionData.question\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 771,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-4 px-3 py-1 rounded-full text-sm font-medium\",\n                  style: {\n                    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n                    color: timeRemaining <= 120 ? '#fbbf24' : 'var(--text-on-dark)'\n                  },\n                  children: formatTimeRemaining(timeRemaining)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 770,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-base font-medium\",\n                    style: {\n                      color: 'var(--text-primary)'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Your Answer *\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 796,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"block text-xs font-normal mt-1\",\n                      style: {\n                        color: 'var(--text-secondary)'\n                      },\n                      children: \"You can specify \\\"none\\\" if no answer exists\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 797,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 792,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleClear,\n                    className: \"text-sm font-medium hover:underline transition-colors\",\n                    style: {\n                      color: 'var(--accent-warning)'\n                    },\n                    children: \"Clear Form\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 804,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 791,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                    ref: textareaRef,\n                    value: answer,\n                    onChange: handleAnswerChange,\n                    placeholder: \"Share your knowledge about cultural practices in your region, or specify 'none' if no answer exists...\",\n                    className: `w-full px-4 py-3 border-2 rounded-xl resize-none min-h-[120px] transition-all duration-200 ${errors.answer ? 'focus:border-red-400' : ''}`,\n                    style: {\n                      color: 'var(--text-primary)',\n                      borderColor: errors.answer ? 'var(--accent-error)' : 'var(--border-medium)',\n                      backgroundColor: 'rgba(244, 228, 202, 0.3)'\n                    },\n                    maxLength: 5000,\n                    disabled: isSaving || isTimeUp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 815,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `absolute bottom-3 right-3 px-2 py-1 rounded-lg text-xs border`,\n                    style: {\n                      backgroundColor: answer.length >= 4 ? 'var(--color-cream)' : '#fef3c7',\n                      color: answer.length >= 4 ? 'var(--text-secondary)' : 'var(--accent-warning)',\n                      borderColor: answer.length >= 4 ? 'var(--border-light)' : '#fbbf24'\n                    },\n                    children: [answer.length, \"/5000 \", answer.length < 4 && `(${4 - answer.length} more needed)`]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 814,\n                  columnNumber: 19\n                }, this), errors.answer && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mt-2 font-medium\",\n                  style: {\n                    color: 'var(--accent-error)'\n                  },\n                  children: errors.answer\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 845,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 17\n              }, this), !isAttentionCheck && qualityWarnings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 p-3 border rounded-xl\",\n                style: {\n                  background: 'var(--btn-warning-bg)',\n                  borderColor: '#fbbf24'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: 'var(--accent-warning)'\n                    },\n                    className: \"mr-2\",\n                    children: \"\\u26A0\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 861,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm\",\n                    style: {\n                      color: '#92400e'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium mb-1\",\n                      children: \"Response Quality Notice:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 863,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"text-xs space-y-1\",\n                      children: qualityWarnings.map((warning, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [\"\\u2022 \", warning]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 866,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 864,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-2 font-medium\",\n                      children: \"Please provide detailed responses or specify \\\"none\\\" if not applicable.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 869,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 860,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 19\n              }, this), showSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 p-3 border rounded-xl animate-bounce-in\",\n                style: {\n                  background: 'var(--accent-success)',\n                  borderColor: 'var(--border-dark)',\n                  color: 'var(--text-on-dark)'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mr-2\",\n                    children: \"\\u2728\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 888,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-sm\",\n                    children: \"Response saved successfully!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 887,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 19\n              }, this), !isFormValid && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 p-3 border rounded-xl\",\n                style: {\n                  background: 'var(--btn-warning-bg)',\n                  borderColor: '#fbbf24'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: 'var(--accent-warning)'\n                    },\n                    className: \"mr-2\",\n                    children: \"\\u26A0\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 904,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm\",\n                    style: {\n                      color: '#92400e'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium mb-1\",\n                      children: \"Please complete the following:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 906,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                      className: \"text-xs space-y-1\",\n                      children: /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: \"\\u2022 Add at least 4 characters to your answer or specify \\\"none\\\"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 908,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 907,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 905,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 903,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center pt-4 border-t\",\n                style: {\n                  borderColor: 'var(--border-light)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handlePrevious,\n                  disabled: isFirstQuestion || isNavigating || isTimeUp,\n                  className: \"flex items-center px-4 py-2 font-medium rounded-xl transition-all duration-200 disabled:cursor-not-allowed text-sm disabled:opacity-50\",\n                  style: {\n                    background: 'var(--btn-warning-bg)',\n                    color: '#92400e'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mr-2\",\n                    children: \"\\u2190\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 929,\n                    columnNumber: 21\n                  }, this), \"Previous\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-3\",\n                  children: [!isAttentionCheck && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleSkip,\n                    disabled: isNavigating || isTimeUp,\n                    className: \"px-4 py-2 font-medium rounded-xl transition-all duration-200 text-sm\",\n                    style: {\n                      background: 'var(--btn-warning-bg)',\n                      color: '#92400e'\n                    },\n                    children: \"Skip\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 936,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleSave,\n                    disabled: isSaving || !isFormValid || isNavigating || isTimeUp,\n                    className: \"px-4 py-2 font-medium rounded-xl transition-all duration-200 disabled:cursor-not-allowed text-sm disabled:opacity-50\",\n                    style: {\n                      background: 'var(--btn-secondary-bg)',\n                      color: 'var(--text-on-dark)'\n                    },\n                    children: isSaving ? 'Saving...' : 'Save'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 949,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleNext,\n                    disabled: isSaving || !isFormValid || isNavigating || isTimeUp,\n                    className: \"flex items-center px-5 py-2 font-medium rounded-xl transition-all duration-200 disabled:cursor-not-allowed text-sm disabled:opacity-50\",\n                    style: {\n                      background: 'var(--btn-primary-bg)',\n                      color: 'var(--text-on-dark)'\n                    },\n                    children: isNavigating ? 'Moving...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [\"Save & Continue\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2\",\n                        children: \"\\u2192\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 973,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 961,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 933,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 540,\n    columnNumber: 5\n  }, this);\n}\n\n// Celebration Modal Component (same as before)\n_s(QuestionForm, \"sGIdJMH+Ubj8P/fbDO/QZyIFR7g=\", false, function () {\n  return [useForm];\n});\n_c = QuestionForm;\nfunction CelebrationModal({\n  celebration,\n  onClose\n}) {\n  const celebrations = {\n    topic: {\n      icon: '',\n      title: 'Topic Completed!'\n    },\n    subcategory: {\n      icon: '',\n      title: 'Subcategory Mastered!'\n    },\n    category: {\n      icon: '',\n      title: 'Category Champion!'\n    }\n  };\n  const config = celebrations[celebration.type];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-2xl p-6 max-w-lg mx-auto text-center shadow-2xl animate-bounce-in\",\n      style: {\n        backgroundColor: 'var(--bg-card)',\n        border: '1px solid var(--border-light)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-5xl mb-3\",\n        children: config.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1019,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-3\",\n        style: {\n          color: 'var(--text-primary)'\n        },\n        children: config.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-xl mb-4\",\n        style: {\n          background: 'linear-gradient(to right, var(--tag-category-bg), var(--tag-subcategory-bg))',\n          border: '1px solid var(--border-light)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium text-lg mb-2\",\n          style: {\n            color: 'var(--text-primary)'\n          },\n          children: [\"\\\"\", celebration.data.name, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          style: {\n            color: 'var(--text-secondary)'\n          },\n          children: [celebration.type === 'topic' && `in ${celebration.data.subcategoryName}`, celebration.type === 'subcategory' && `from ${celebration.data.categoryName}`, celebration.type === 'category' && 'Entire category completed!']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1026,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"px-6 py-2 font-medium rounded-xl transition-all duration-200\",\n        style: {\n          background: 'var(--btn-primary-bg)',\n          color: 'var(--text-on-dark)'\n        },\n        children: \"Continue Survey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1011,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CelebrationModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"QuestionForm\");\n$RefreshReg$(_c2, \"CelebrationModal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useForm","validateAnswer","shouldShowAttentionCheck","generateAttentionCheck","analyzeResponseQuality","analyzeUserPattern","ProgressBar","NavigationMenu","QualityWarningModal","api","jsxDEV","_jsxDEV","Fragment","_Fragment","MAX_TIME_PER_QUESTION","QuestionForm","_s","state","saveResponse","navigateToNext","navigateToPrevious","getCurrentQuestionData","getTotalQuestionsInCurrentTopic","getCompletedQuestionsInCurrentTopic","resetSession","navigateToPosition","answer","setAnswer","errors","setErrors","isSaving","setIsSaving","startTime","setStartTime","Date","now","showSuccess","setShowSuccess","lastQuestionId","setLastQuestionId","isNavigating","setIsNavigating","navigationDirection","setNavigationDirection","showNavigationMenu","setShowNavigationMenu","timeRemaining","setTimeRemaining","showTimeWarning","setShowTimeWarning","isTimeUp","setIsTimeUp","timerRef","isAttentionCheck","setIsAttentionCheck","attentionCheck","setAttentionCheck","lastAttentionCheckAt","setLastAttentionCheckAt","attentionChecksPassed","setAttentionChecksPassed","attentionChecksFailed","setAttentionChecksFailed","showQualityModal","setShowQualityModal","qualityWarnings","setQualityWarnings","lastQualityAlertAt","setLastQualityAlertAt","hasShownQualityAlert","setHasShownQualityAlert","currentQualityIssue","setCurrentQualityIssue","type","noneRate","gibberishRate","speedRate","showCelebration","setShowCelebration","textareaRef","currentQuestionData","current","clearInterval","setInterval","prev","newTime","handleTimeUp","console","log","trim","length","performSave","setTimeout","error","formatTimeRemaining","seconds","minutes","Math","floor","remainingSeconds","toString","padStart","getTimerColor","totalResponses","responses","size","check","category","topic","userInfo","undefined","questionId","existingResponse","get","allResponses","Array","from","values","analysisData","map","r","timeSpent","patternAnalysis","suspiciousPattern","warnings","issueType","noneResponseRate","gibberishResponseRate","fastResponseRate","style","height","scrollHeight","validateForm","newErrors","answerValidation","isValid","message","Object","keys","handleAnswerChange","e","newValue","target","value","qualityAnalysis","isLowQuality","issues","handleClear","focus","checkForMilestones","categoryIndex","subcategoryIndex","topicIndex","questionIndex","currentPosition","currentCategory","questionsData","currentSubcategory","subcategories","currentTopic","topics","questions","name","subcategoryName","subcategory","topicName","categoryName","updateAttentionCheckStats","sessionId","updateUserProgress","completedQuestions","questionText","question","toISOString","endTime","timeSpentSeconds","answerLength","maxTimeSeconds","response","timestamp","qualityScore","score","attentionCheckType","expectedAnswer","handleSave","alert","handleNext","saveSuccessful","milestone","data","handlePrevious","handleSkip","handleNavigateToQuestion","handleQualityModalClose","closeCelebration","className","children","fileName","_jsxFileName","lineNumber","columnNumber","topicProgress","completedInTopic","currentQuestionInTopic","isFirstQuestion","isFormValid","displayQuestionData","background","backgroundColor","border","color","onClick","title","isOpen","onClose","onNavigateTo","qualityIssues","CelebrationModal","celebration","width","ref","onChange","placeholder","borderColor","maxLength","disabled","warning","index","_c","celebrations","icon","config","_c2","$RefreshReg$"],"sources":["C:/Users/sangm/OneDrive - Brock University/CommonsenseForm/client/src/components/QuestionForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useForm } from '../context/FormContext.tsx';\r\nimport { validateAnswer, shouldShowAttentionCheck, generateAttentionCheck, analyzeResponseQuality, analyzeUserPattern } from '../utils/helpers.ts';\r\nimport ProgressBar from './ProgressBar.tsx';\r\nimport NavigationMenu from './NavigationMenu.tsx';\r\nimport QualityWarningModal from './QualityWarningModel.tsx';\r\nimport * as api from '../services/api.ts';\r\n\r\n// CONFIGURABLE MAX TIME (in minutes)\r\nconst MAX_TIME_PER_QUESTION = 15; // Change this value to adjust max time\r\n\r\nexport default function QuestionForm() {\r\n  const {\r\n    state,\r\n    saveResponse,\r\n    navigateToNext,\r\n    navigateToPrevious,\r\n    getCurrentQuestionData,\r\n    getTotalQuestionsInCurrentTopic,\r\n    getCompletedQuestionsInCurrentTopic,\r\n    resetSession,\r\n    navigateToPosition\r\n  } = useForm();\r\n\r\n  // Basic form state\r\n  const [answer, setAnswer] = useState('');\r\n  const [errors, setErrors] = useState<{ answer?: string }>({});\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [startTime, setStartTime] = useState(Date.now());\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [lastQuestionId, setLastQuestionId] = useState<string | null>(null);\r\n  const [isNavigating, setIsNavigating] = useState(false);\r\n  const [navigationDirection, setNavigationDirection] = useState<'next' | 'previous' | null>(null);\r\n  const [showNavigationMenu, setShowNavigationMenu] = useState(false);\r\n\r\n  // Timer state\r\n  const [timeRemaining, setTimeRemaining] = useState(MAX_TIME_PER_QUESTION * 60); // Convert to seconds\r\n  const [showTimeWarning, setShowTimeWarning] = useState(false);\r\n  const [isTimeUp, setIsTimeUp] = useState(false);\r\n  const timerRef = useRef<number | null>(null);\r\n\r\n  // Attention check state\r\n  const [isAttentionCheck, setIsAttentionCheck] = useState(false);\r\n  const [attentionCheck, setAttentionCheck] = useState<any>(null);\r\n  const [lastAttentionCheckAt, setLastAttentionCheckAt] = useState<number>(-1);\r\n  const [attentionChecksPassed, setAttentionChecksPassed] = useState(0);\r\n  const [attentionChecksFailed, setAttentionChecksFailed] = useState(0);\r\n\r\n  // Quality tracking state\r\n  const [showQualityModal, setShowQualityModal] = useState(false);\r\n  const [qualityWarnings, setQualityWarnings] = useState<string[]>([]);\r\n  const [lastQualityAlertAt, setLastQualityAlertAt] = useState<number>(-1);\r\n  const [hasShownQualityAlert, setHasShownQualityAlert] = useState(false);\r\n  const [currentQualityIssue, setCurrentQualityIssue] = useState<{\r\n    type: string | null;\r\n    noneRate: number;\r\n    gibberishRate: number;\r\n    speedRate: number;\r\n  }>({ type: null, noneRate: 0, gibberishRate: 0, speedRate: 0 });\r\n\r\n  // Celebration state\r\n  const [showCelebration, setShowCelebration] = useState<{type: string, data: any} | null>(null);\r\n\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const currentQuestionData = getCurrentQuestionData();\r\n\r\n  // Timer effect - runs every second\r\n  useEffect(() => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n    }\r\n\r\n    timerRef.current = setInterval(() => {\r\n      setTimeRemaining(prev => {\r\n        const newTime = prev - 1;\r\n        \r\n        // Show warning at 2 minutes remaining\r\n        if (newTime === 120 && !showTimeWarning) {\r\n          setShowTimeWarning(true);\r\n        }\r\n        \r\n        // Auto-save and move to next when time is up\r\n        if (newTime <= 0) {\r\n          setIsTimeUp(true);\r\n          handleTimeUp();\r\n          return 0;\r\n        }\r\n        \r\n        return newTime;\r\n      });\r\n    }, 1000);\r\n\r\n    // Cleanup timer on unmount\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n    };\r\n  }, [startTime]);\r\n\r\n  // Auto-save when time is up\r\n  const handleTimeUp = async () => {\r\n    console.log('Time is up! Auto-saving and moving to next question');\r\n    \r\n    if (answer.trim().length >= 4) {\r\n      // Save the current answer\r\n      try {\r\n        await performSave();\r\n        setTimeout(() => {\r\n          navigateToNext();\r\n        }, 1000);\r\n      } catch (error) {\r\n        console.error('Auto-save failed:', error);\r\n        navigateToNext(); // Move anyway\r\n      }\r\n    } else {\r\n      // No valid answer, just move to next\r\n      navigateToNext();\r\n    }\r\n  };\r\n\r\n  // Format time remaining for display\r\n  const formatTimeRemaining = (seconds: number): string => {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = seconds % 60;\r\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Get timer color based on time remaining\r\n  const getTimerColor = (): string => {\r\n    if (timeRemaining <= 60) return '#dc2626'; // Red - last minute\r\n    if (timeRemaining <= 120) return '#d97706'; // Orange - last 2 minutes\r\n    if (timeRemaining <= 300) return '#ca8a04'; // Yellow - last 5 minutes\r\n    return 'var(--text-secondary)'; // Normal color\r\n  };\r\n\r\n  // Check if this should be an attention check (every 7 questions)\r\n  useEffect(() => {\r\n    const totalResponses = state.responses.size;\r\n    \r\n    if (lastAttentionCheckAt === totalResponses) return;\r\n    \r\n    if (shouldShowAttentionCheck(totalResponses) && currentQuestionData) {\r\n      console.log('SHOWING ATTENTION CHECK at response count:', totalResponses);\r\n      \r\n      const check = generateAttentionCheck(\r\n        currentQuestionData.category,\r\n        currentQuestionData.topic,\r\n        state.userInfo || undefined\r\n      );\r\n      \r\n      setAttentionCheck(check);\r\n      setIsAttentionCheck(true);\r\n      setLastAttentionCheckAt(totalResponses);\r\n      setAnswer(''); // Clear any existing answer\r\n    } else if (!shouldShowAttentionCheck(totalResponses)) {\r\n      setIsAttentionCheck(false);\r\n      setAttentionCheck(null);\r\n    }\r\n  }, [state.responses.size, lastAttentionCheckAt, currentQuestionData]);\r\n\r\n  // Reset form when question changes\r\n  useEffect(() => {\r\n    if (currentQuestionData && currentQuestionData.questionId !== lastQuestionId) {\r\n      console.log('Question changed, loading data for:', currentQuestionData.questionId);\r\n      \r\n      setErrors({});\r\n      setShowSuccess(false);\r\n      setStartTime(Date.now());\r\n      setLastQuestionId(currentQuestionData.questionId);\r\n      setIsNavigating(false);\r\n      setNavigationDirection(null);\r\n      setQualityWarnings([]);\r\n      \r\n      // Reset timer for new question\r\n      setTimeRemaining(MAX_TIME_PER_QUESTION * 60);\r\n      setShowTimeWarning(false);\r\n      setIsTimeUp(false);\r\n      \r\n      // Don't load existing response for attention checks\r\n      if (!isAttentionCheck) {\r\n        const existingResponse = state.responses.get(currentQuestionData.questionId);\r\n        if (existingResponse) {\r\n          console.log('Found existing response:', existingResponse);\r\n          setAnswer(existingResponse.answer);\r\n        } else {\r\n          console.log('No existing response, clearing form');\r\n          setAnswer('');\r\n        }\r\n      } else {\r\n        // For attention checks, always start with empty answer\r\n        setAnswer('');\r\n      }\r\n    }\r\n  }, [currentQuestionData?.questionId, lastQuestionId, state.responses, isAttentionCheck]);\r\n\r\n  // Quality check logic (skip for attention checks)\r\n  useEffect(() => {\r\n    const totalResponses = state.responses.size;\r\n    \r\n    if (totalResponses < 5 || showQualityModal || isAttentionCheck) return;\r\n\r\n    const allResponses = Array.from(state.responses.values());\r\n    const analysisData = allResponses.map(r => ({ answer: r.answer, timeSpent: r.timeSpent }));\r\n    const patternAnalysis = analyzeUserPattern(analysisData);\r\n    \r\n    if (patternAnalysis.suspiciousPattern && !hasShownQualityAlert) {\r\n      console.log('SHOWING QUALITY ALERT: First detection at', totalResponses);\r\n      setShowQualityModal(true);\r\n      setLastQualityAlertAt(totalResponses);\r\n      setHasShownQualityAlert(true);\r\n      setQualityWarnings(patternAnalysis.warnings);\r\n      setCurrentQualityIssue({\r\n        type: patternAnalysis.issueType,\r\n        noneRate: patternAnalysis.noneResponseRate,\r\n        gibberishRate: patternAnalysis.gibberishResponseRate,\r\n        speedRate: patternAnalysis.fastResponseRate\r\n      });\r\n    }\r\n    else if (patternAnalysis.suspiciousPattern && \r\n             hasShownQualityAlert && \r\n             lastQualityAlertAt > 0 && \r\n             (totalResponses - lastQualityAlertAt) >= 5) {\r\n      console.log('SHOWING QUALITY ALERT: Persistent issue after 5 responses');\r\n      setShowQualityModal(true);\r\n      setLastQualityAlertAt(totalResponses);\r\n      setQualityWarnings(patternAnalysis.warnings);\r\n      setCurrentQualityIssue({\r\n        type: patternAnalysis.issueType,\r\n        noneRate: patternAnalysis.noneResponseRate,\r\n        gibberishRate: patternAnalysis.gibberishResponseRate,\r\n        speedRate: patternAnalysis.fastResponseRate\r\n      });\r\n    }\r\n  }, [state.responses.size, showQualityModal, hasShownQualityAlert, lastQualityAlertAt, isAttentionCheck]);\r\n\r\n  // Auto-resize textarea\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = 'auto';\r\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\r\n    }\r\n  }, [answer]);\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { answer?: string } = {};\r\n    \r\n    const answerValidation = validateAnswer(answer);\r\n    if (!answerValidation.isValid) {\r\n      newErrors.answer = answerValidation.message;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleAnswerChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const newValue = e.target.value;\r\n    setAnswer(newValue);\r\n    \r\n    if (errors.answer) {\r\n      setErrors(prev => ({ ...prev, answer: undefined }));\r\n    }\r\n\r\n    // Real-time quality feedback for current response only (skip for attention checks)\r\n    if (newValue.length > 5 && !isAttentionCheck) {\r\n      const qualityAnalysis = analyzeResponseQuality(newValue);\r\n      if (qualityAnalysis.isLowQuality) {\r\n        setQualityWarnings(qualityAnalysis.issues);\r\n      } else {\r\n        setQualityWarnings([]);\r\n      }\r\n    } else {\r\n      setQualityWarnings([]);\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setAnswer('');\r\n    setErrors({});\r\n    setShowSuccess(false);\r\n    setQualityWarnings([]);\r\n    if (textareaRef.current) {\r\n      textareaRef.current.focus();\r\n    }\r\n  };\r\n\r\n  const checkForMilestones = () => {\r\n    const { categoryIndex, subcategoryIndex, topicIndex, questionIndex } = state.currentPosition;\r\n    const currentCategory = state.questionsData[categoryIndex];\r\n    const currentSubcategory = currentCategory?.subcategories[subcategoryIndex];\r\n    const currentTopic = currentSubcategory?.topics[topicIndex];\r\n    \r\n    if (!currentTopic) return null;\r\n\r\n    if (questionIndex === currentTopic.questions.length - 1) {\r\n      if (topicIndex === currentSubcategory.topics.length - 1) {\r\n        if (subcategoryIndex === currentCategory.subcategories.length - 1) {\r\n          return {\r\n            type: 'category',\r\n            name: currentCategory.category,\r\n            subcategoryName: currentSubcategory.subcategory,\r\n            topicName: currentTopic.topic\r\n          };\r\n        }\r\n        return {\r\n          type: 'subcategory',\r\n          name: currentSubcategory.subcategory,\r\n          topicName: currentTopic.topic,\r\n          categoryName: currentCategory.category\r\n        };\r\n      }\r\n      return {\r\n        type: 'topic',\r\n        name: currentTopic.topic,\r\n        subcategoryName: currentSubcategory.subcategory,\r\n        categoryName: currentCategory.category\r\n      };\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const updateAttentionCheckStats = async () => {\r\n    if (state.sessionId) {\r\n      try {\r\n        await api.updateUserProgress(state.sessionId, {\r\n          attentionChecksPassed,\r\n          attentionChecksFailed,\r\n          completedQuestions: state.responses.size\r\n        });\r\n        console.log('Updated attention check stats:', { attentionChecksPassed, attentionChecksFailed });\r\n      } catch (error) {\r\n        console.error('Failed to update attention check stats:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // SIMPLIFIED: Just save the response, no automatic validation\r\n  const performSave = async (qualityAnalysis?: any) => {\r\n    if (!currentQuestionData || !state.sessionId) {\r\n      console.error('Missing required data for save');\r\n      return false;\r\n    }\r\n\r\n    // For attention checks, we'll create a special question ID to identify them\r\n    const questionId = isAttentionCheck \r\n      ? `ATTENTION_CHECK_${state.responses.size}_${currentQuestionData.questionId}`\r\n      : currentQuestionData.questionId;\r\n\r\n    const questionText = isAttentionCheck \r\n      ? attentionCheck.question \r\n      : currentQuestionData.question;\r\n\r\n    if (!qualityAnalysis) {\r\n      qualityAnalysis = analyzeResponseQuality(answer);\r\n    }\r\n\r\n    setIsSaving(true);\r\n    \r\n    try {\r\n      const timeSpent = Math.floor((Date.now() - startTime) / 1000);\r\n      \r\n      console.log('Time calculation:', {\r\n        startTime: new Date(startTime).toISOString(),\r\n        endTime: new Date().toISOString(),\r\n        timeSpentSeconds: timeSpent,\r\n        answerLength: answer.length,\r\n        maxTimeSeconds: MAX_TIME_PER_QUESTION * 60\r\n      });\r\n      \r\n      const response = {\r\n        sessionId: state.sessionId,\r\n        questionId: questionId,\r\n        categoryIndex: state.currentPosition.categoryIndex,\r\n        subcategoryIndex: state.currentPosition.subcategoryIndex,\r\n        topicIndex: state.currentPosition.topicIndex,\r\n        questionIndex: state.currentPosition.questionIndex,\r\n        category: currentQuestionData.category,\r\n        subcategory: currentQuestionData.subcategory,\r\n        topic: currentQuestionData.topic,\r\n        question: questionText,\r\n        answer: answer.trim(),\r\n        timeSpent,\r\n        timestamp: new Date().toISOString(),\r\n        qualityScore: qualityAnalysis.score,\r\n        // Add metadata for attention checks\r\n        isAttentionCheck: isAttentionCheck,\r\n        attentionCheckType: isAttentionCheck ? attentionCheck.type : undefined,\r\n        expectedAnswer: isAttentionCheck ? attentionCheck.expectedAnswer : undefined\r\n      };\r\n\r\n      await saveResponse(response);\r\n      await updateAttentionCheckStats();\r\n      \r\n      setShowSuccess(true);\r\n      setTimeout(() => setShowSuccess(false), 2000);\r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error('SAVE ERROR:', error);\r\n      throw error;\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!validateForm() || !currentQuestionData || !state.sessionId) {\r\n      console.log('Validation failed:', errors);\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const qualityAnalysis = analyzeResponseQuality(answer);\r\n      return await performSave(qualityAnalysis);\r\n    } catch (error) {\r\n      console.error('Save failed:', error);\r\n      alert('Failed to save response. Please try again.');\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleNext = async () => {\r\n    const isValid = validateForm();\r\n    if (!isValid) {\r\n      console.log('Form validation failed, cannot proceed');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const saveSuccessful = await handleSave();\r\n      \r\n      if (saveSuccessful && isValid) {\r\n        const milestone = checkForMilestones();\r\n        \r\n        setNavigationDirection('next');\r\n        setIsNavigating(true);\r\n        \r\n        setTimeout(() => {\r\n          navigateToNext();\r\n          \r\n          if (milestone && !isAttentionCheck) {\r\n            setShowCelebration({type: milestone.type, data: milestone});\r\n          }\r\n        }, 300);\r\n      }\r\n    } catch (error) {\r\n      console.error('Next navigation failed:', error);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    setNavigationDirection('previous');\r\n    setIsNavigating(true);\r\n    \r\n    setTimeout(() => {\r\n      navigateToPrevious();\r\n    }, 300);\r\n  };\r\n\r\n  const handleSkip = () => {\r\n    if (isAttentionCheck) return; // Don't allow skipping attention checks\r\n    \r\n    setAnswer('');\r\n    setErrors({});\r\n    \r\n    setNavigationDirection('next');\r\n    setIsNavigating(true);\r\n    \r\n    setTimeout(() => {\r\n      navigateToNext();\r\n    }, 300);\r\n  };\r\n\r\n  const handleNavigateToQuestion = async (categoryIndex: number, subcategoryIndex: number, topicIndex: number, questionIndex: number) => {\r\n    const isValid = validateForm();\r\n    if (isValid && answer.trim()) {\r\n      console.log('QuestionForm: Saving current response before navigation');\r\n      try {\r\n        await handleSave();\r\n      } catch (error) {\r\n        console.error('Failed to save before navigation:', error);\r\n      }\r\n    }\r\n    \r\n    console.log('QuestionForm: Navigating to:', categoryIndex, subcategoryIndex, topicIndex, questionIndex);\r\n    await navigateToPosition(categoryIndex, subcategoryIndex, topicIndex, questionIndex);\r\n  };\r\n\r\n  const handleQualityModalClose = () => {\r\n    console.log('Quality modal closed - user will improve response');\r\n    setShowQualityModal(false);\r\n    \r\n    setAnswer('');\r\n    setErrors({});\r\n    \r\n    setTimeout(() => {\r\n      if (textareaRef.current) {\r\n        textareaRef.current.focus();\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  const closeCelebration = () => {\r\n    setShowCelebration(null);\r\n  };\r\n\r\n  if (!currentQuestionData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading question...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const topicProgress = getTotalQuestionsInCurrentTopic();\r\n  const completedInTopic = getCompletedQuestionsInCurrentTopic();\r\n  const currentQuestionInTopic = state.currentPosition.questionIndex + 1;\r\n  const isFirstQuestion = state.currentPosition.categoryIndex === 0 && \r\n                         state.currentPosition.subcategoryIndex === 0 && \r\n                         state.currentPosition.topicIndex === 0 && \r\n                         state.currentPosition.questionIndex === 0;\r\n\r\n  const isFormValid = answer.trim().length >= 4;\r\n\r\n  // For attention checks, use the attention check question, but make it look like a regular question\r\n  const displayQuestionData = isAttentionCheck \r\n    ? {\r\n        topic: currentQuestionData.topic, // Keep the current topic\r\n        category: currentQuestionData.category, // Keep the current category\r\n        subcategory: currentQuestionData.subcategory, // Keep the current subcategory\r\n        question: attentionCheck.question // Use the attention check question\r\n      }\r\n    : currentQuestionData;\r\n\r\n  return (\r\n    <div \r\n      className=\"min-h-screen\"\r\n      style={{ \r\n        background: `linear-gradient(135deg, var(--bg-primary) 0%, var(--color-cream) 50%, var(--bg-secondary) 100%)` \r\n      }}\r\n    >\r\n      <ProgressBar />\r\n      \r\n      {/* Timer Display - Fixed Position */}\r\n      <div className=\"fixed top-20 left-6 z-40\">\r\n        <div \r\n          className=\"p-3 rounded-full shadow-lg backdrop-blur-sm transition-all duration-200\"\r\n          style={{ \r\n            backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n            border: `2px solid ${getTimerColor()}`\r\n          }}\r\n        >\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span \r\n              className=\"text-lg font-bold\"\r\n              style={{ color: getTimerColor() }}\r\n            >\r\n               {formatTimeRemaining(timeRemaining)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Menu Button */}\r\n      <div className=\"fixed top-20 right-6 z-40\">\r\n        <button\r\n          onClick={() => setShowNavigationMenu(true)}\r\n          className=\"p-3 rounded-full shadow-lg transition-all duration-200 hover:scale-110\"\r\n          style={{ \r\n            background: 'var(--btn-primary-bg)',\r\n            color: 'var(--text-on-dark)'\r\n          }}\r\n          title=\"Navigation Menu\"\r\n        >\r\n          <span className=\"text-xl\"></span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Time Warning Modal */}\r\n      {showTimeWarning && !isTimeUp && (\r\n        <div className=\"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div \r\n            className=\"rounded-2xl p-6 max-w-md mx-auto text-center shadow-2xl animate-bounce-in\"\r\n            style={{ \r\n              backgroundColor: 'var(--bg-card)',\r\n              border: '2px solid #d97706'\r\n            }}\r\n          >\r\n            <div className=\"text-4xl mb-3\"></div>\r\n            <h2 className=\"text-xl font-bold mb-3\" style={{ color: '#d97706' }}>\r\n              2 Minutes Remaining!\r\n            </h2>\r\n            <p className=\"text-sm mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n              You have less than 2 minutes left on this question. The form will automatically \r\n              save your current answer and move to the next question when time is up.\r\n            </p>\r\n            <button\r\n              onClick={() => setShowTimeWarning(false)}\r\n              className=\"px-4 py-2 font-medium rounded-lg transition-all duration-200\"\r\n              style={{ \r\n                background: '#d97706',\r\n                color: 'white'\r\n              }}\r\n            >\r\n              Continue Working\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Time Up Modal */}\r\n      {isTimeUp && (\r\n        <div className=\"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div \r\n            className=\"rounded-2xl p-6 max-w-md mx-auto text-center shadow-2xl animate-bounce-in\"\r\n            style={{ \r\n              backgroundColor: 'var(--bg-card)',\r\n              border: '2px solid #dc2626'\r\n            }}\r\n          >\r\n            <div className=\"text-4xl mb-3\"></div>\r\n            <h2 className=\"text-xl font-bold mb-3\" style={{ color: '#dc2626' }}>\r\n              Time's Up!\r\n            </h2>\r\n            <p className=\"text-sm mb-4\" style={{ color: 'var(--text-primary)' }}>\r\n              {answer.trim().length >= 4 \r\n                ? 'Your response has been automatically saved and we\\'re moving to the next question.'\r\n                : 'Moving to the next question since no valid response was provided.'\r\n              }\r\n            </p>\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto\"></div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Navigation Menu */}\r\n      <NavigationMenu \r\n        isOpen={showNavigationMenu}\r\n        onClose={() => setShowNavigationMenu(false)}\r\n        onNavigateTo={handleNavigateToQuestion}\r\n      />\r\n\r\n      {/* Quality Warning Modal (not shown for attention checks) */}\r\n      {!isAttentionCheck && (\r\n        <QualityWarningModal\r\n          isOpen={showQualityModal}\r\n          onClose={handleQualityModalClose}\r\n          qualityIssues={qualityWarnings}\r\n          issueType={currentQualityIssue.type}\r\n          noneResponseRate={currentQualityIssue.noneRate}\r\n          gibberishResponseRate={currentQualityIssue.gibberishRate}\r\n          fastResponseRate={currentQualityIssue.speedRate}\r\n        />\r\n      )}\r\n      \r\n      {/* Celebration Modal */}\r\n      {showCelebration && (\r\n        <CelebrationModal \r\n          celebration={showCelebration} \r\n          onClose={closeCelebration}\r\n        />\r\n      )}\r\n      \r\n      <div className=\"max-w-4xl mx-auto px-4 py-6\">\r\n        {/* Question Card Container */}\r\n        <div className=\"relative overflow-hidden\">\r\n          <div className={`transform transition-all duration-500 ease-in-out ${\r\n            isNavigating \r\n              ? navigationDirection === 'next' \r\n                ? '-translate-x-full opacity-0'\r\n                : 'translate-x-full opacity-0'\r\n              : 'translate-x-0 opacity-100'\r\n          }`}>\r\n            \r\n            {/* Topic Header Card */}\r\n            <div \r\n              className=\"backdrop-blur-sm rounded-2xl shadow-lg p-6 mb-6\"\r\n              style={{ \r\n                backgroundColor: 'var(--bg-card)',\r\n                border: '1px solid var(--border-light)'\r\n              }}\r\n            >\r\n              <div className=\"text-center mb-4\">\r\n                <div \r\n                  className=\"inline-flex items-center px-4 py-2 text-white rounded-full text-sm font-medium mb-4 shadow-sm\"\r\n                  style={{ \r\n                    background: 'var(--btn-primary-bg)' \r\n                  }}\r\n                >\r\n                  Question {currentQuestionInTopic} of {topicProgress}\r\n                </div>\r\n                \r\n                <h1 \r\n                  className=\"text-2xl md:text-3xl font-semibold mb-3\"\r\n                  style={{ color: 'var(--text-primary)' }}\r\n                >\r\n                  {displayQuestionData.topic}\r\n                </h1>\r\n                \r\n                <div className=\"flex items-center justify-center space-x-2 text-sm\">\r\n                  <span \r\n                    className=\"px-3 py-1 rounded-full font-medium\"\r\n                    style={{ \r\n                      backgroundColor: 'var(--tag-category-bg)',\r\n                      color: 'var(--tag-category-text)',\r\n                      border: '1px solid var(--border-light)'\r\n                    }}\r\n                  >\r\n                    {displayQuestionData.category}\r\n                  </span>\r\n                  <span style={{ color: 'var(--text-muted)' }}></span>\r\n                  <span \r\n                    className=\"px-3 py-1 rounded-full font-medium\"\r\n                    style={{ \r\n                      backgroundColor: 'var(--tag-subcategory-bg)',\r\n                      color: 'var(--tag-subcategory-text)',\r\n                      border: '1px solid var(--border-light)'\r\n                    }}\r\n                  >\r\n                    {displayQuestionData.subcategory}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Topic Progress Bar */}\r\n              <div className=\"relative\">\r\n                <div \r\n                  className=\"w-full rounded-full h-2 overflow-hidden\"\r\n                  style={{ backgroundColor: 'var(--bg-progress)' }}\r\n                >\r\n                  <div \r\n                    className=\"h-2 rounded-full transition-all duration-1000 ease-out\"\r\n                    style={{ \r\n                      background: 'var(--bg-progress-fill)',\r\n                      width: `${(completedInTopic / topicProgress) * 100}%` \r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                \r\n                <div \r\n                  className=\"text-center text-sm mt-2\"\r\n                  style={{ color: 'var(--text-secondary)' }}\r\n                >\r\n                  {completedInTopic} of {topicProgress} questions completed\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Main Question Card */}\r\n            <div \r\n              className=\"backdrop-blur-sm rounded-2xl shadow-lg overflow-hidden\"\r\n              style={{ \r\n                backgroundColor: 'var(--bg-card)',\r\n                border: '1px solid var(--border-light)'\r\n              }}\r\n            >\r\n              \r\n              {/* Question Header - looks identical for both regular and attention check questions */}\r\n              <div \r\n                className=\"p-6\"\r\n                style={{ \r\n                  background: 'var(--bg-card-header)',\r\n                  color: 'var(--text-on-dark)'\r\n                }}\r\n              >\r\n                <div className=\"flex justify-between items-start\">\r\n                  <h2 className=\"text-lg md:text-xl font-medium leading-relaxed flex-1\">\r\n                    {displayQuestionData.question}\r\n                  </h2>\r\n                  \r\n                  {/* Timer in Question Header */}\r\n                  <div \r\n                    className=\"ml-4 px-3 py-1 rounded-full text-sm font-medium\"\r\n                    style={{ \r\n                      backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n                      color: timeRemaining <= 120 ? '#fbbf24' : 'var(--text-on-dark)'\r\n                    }}\r\n                  >\r\n                    {formatTimeRemaining(timeRemaining)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Answer Section - Same as before, just with the timer additions */}\r\n              <div className=\"p-6\">\r\n                <div className=\"mb-6\">\r\n                  <div className=\"flex justify-between items-center mb-3\">\r\n                    <label \r\n                      className=\"block text-base font-medium\"\r\n                      style={{ color: 'var(--text-primary)' }}\r\n                    >\r\n                      <span>Your Answer *</span>\r\n                      <span \r\n                        className=\"block text-xs font-normal mt-1\"\r\n                        style={{ color: 'var(--text-secondary)' }}\r\n                      >\r\n                        You can specify \"none\" if no answer exists\r\n                      </span>\r\n                    </label>\r\n                    <button\r\n                      onClick={handleClear}\r\n                      className=\"text-sm font-medium hover:underline transition-colors\"\r\n                      style={{ color: 'var(--accent-warning)' }}\r\n                    >\r\n                      Clear Form\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  {/* Regular Question Textarea - same for both regular and attention checks */}\r\n                  <div className=\"relative\">\r\n                    <textarea\r\n                      ref={textareaRef}\r\n                      value={answer}\r\n                      onChange={handleAnswerChange}\r\n                      placeholder=\"Share your knowledge about cultural practices in your region, or specify 'none' if no answer exists...\"\r\n                      className={`w-full px-4 py-3 border-2 rounded-xl resize-none min-h-[120px] transition-all duration-200 ${\r\n                        errors.answer ? 'focus:border-red-400' : ''\r\n                      }`}\r\n                      style={{\r\n                        color: 'var(--text-primary)',\r\n                        borderColor: errors.answer ? 'var(--accent-error)' : 'var(--border-medium)',\r\n                        backgroundColor: 'rgba(244, 228, 202, 0.3)'\r\n                      }}\r\n                      maxLength={5000}\r\n                      disabled={isSaving || isTimeUp}\r\n                    />\r\n                    \r\n                    <div \r\n                      className={`absolute bottom-3 right-3 px-2 py-1 rounded-lg text-xs border`}\r\n                      style={{\r\n                        backgroundColor: answer.length >= 4 ? 'var(--color-cream)' : '#fef3c7',\r\n                        color: answer.length >= 4 ? 'var(--text-secondary)' : 'var(--accent-warning)',\r\n                        borderColor: answer.length >= 4 ? 'var(--border-light)' : '#fbbf24'\r\n                      }}\r\n                    >\r\n                      {answer.length}/5000 {answer.length < 4 && `(${4 - answer.length} more needed)`}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {errors.answer && (\r\n                    <p className=\"text-sm mt-2 font-medium\" style={{ color: 'var(--accent-error)' }}>\r\n                      {errors.answer}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Real-time Quality Warnings (for regular questions only) */}\r\n                {!isAttentionCheck && qualityWarnings.length > 0 && (\r\n                  <div \r\n                    className=\"mb-4 p-3 border rounded-xl\"\r\n                    style={{ \r\n                      background: 'var(--btn-warning-bg)',\r\n                      borderColor: '#fbbf24'\r\n                    }}\r\n                  >\r\n                    <div className=\"flex items-start\">\r\n                      <span style={{ color: 'var(--accent-warning)' }} className=\"mr-2\"></span>\r\n                      <div className=\"text-sm\" style={{ color: '#92400e' }}>\r\n                        <p className=\"font-medium mb-1\">Response Quality Notice:</p>\r\n                        <ul className=\"text-xs space-y-1\">\r\n                          {qualityWarnings.map((warning, index) => (\r\n                            <li key={index}> {warning}</li>\r\n                          ))}\r\n                        </ul>\r\n                        <p className=\"mt-2 font-medium\">\r\n                          Please provide detailed responses or specify \"none\" if not applicable.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Success Message */}\r\n                {showSuccess && (\r\n                  <div \r\n                    className=\"mb-4 p-3 border rounded-xl animate-bounce-in\"\r\n                    style={{ \r\n                      background: 'var(--accent-success)',\r\n                      borderColor: 'var(--border-dark)',\r\n                      color: 'var(--text-on-dark)'\r\n                    }}\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <span className=\"mr-2\"></span>\r\n                      <span className=\"font-medium text-sm\">Response saved successfully!</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Validation Warning */}\r\n                {!isFormValid && (\r\n                  <div \r\n                    className=\"mb-4 p-3 border rounded-xl\"\r\n                    style={{ \r\n                      background: 'var(--btn-warning-bg)',\r\n                      borderColor: '#fbbf24'\r\n                    }}\r\n                  >\r\n                    <div className=\"flex items-start\">\r\n                      <span style={{ color: 'var(--accent-warning)' }} className=\"mr-2\"></span>\r\n                      <div className=\"text-sm\" style={{ color: '#92400e' }}>\r\n                        <p className=\"font-medium mb-1\">Please complete the following:</p>\r\n                        <ul className=\"text-xs space-y-1\">\r\n                          <li> Add at least 4 characters to your answer or specify \"none\"</li>\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Navigation Buttons */}\r\n                <div \r\n                  className=\"flex justify-between items-center pt-4 border-t\"\r\n                  style={{ borderColor: 'var(--border-light)' }}\r\n                >\r\n                  <button\r\n                    onClick={handlePrevious}\r\n                    disabled={isFirstQuestion || isNavigating || isTimeUp}\r\n                    className=\"flex items-center px-4 py-2 font-medium rounded-xl transition-all duration-200 disabled:cursor-not-allowed text-sm disabled:opacity-50\"\r\n                    style={{ \r\n                      background: 'var(--btn-warning-bg)',\r\n                      color: '#92400e'\r\n                    }}\r\n                  >\r\n                    <span className=\"mr-2\"></span>\r\n                    Previous\r\n                  </button>\r\n\r\n                  <div className=\"flex space-x-3\">\r\n                    {/* Hide skip for attention checks */}\r\n                    {!isAttentionCheck && (\r\n                      <button\r\n                        onClick={handleSkip}\r\n                        disabled={isNavigating || isTimeUp}\r\n                        className=\"px-4 py-2 font-medium rounded-xl transition-all duration-200 text-sm\"\r\n                        style={{ \r\n                          background: 'var(--btn-warning-bg)',\r\n                          color: '#92400e'\r\n                        }}\r\n                      >\r\n                        Skip\r\n                      </button>\r\n                    )}\r\n\r\n                    <button\r\n                      onClick={handleSave}\r\n                      disabled={isSaving || !isFormValid || isNavigating || isTimeUp}\r\n                      className=\"px-4 py-2 font-medium rounded-xl transition-all duration-200 disabled:cursor-not-allowed text-sm disabled:opacity-50\"\r\n                      style={{ \r\n                        background: 'var(--btn-secondary-bg)',\r\n                        color: 'var(--text-on-dark)'\r\n                      }}\r\n                    >\r\n                      {isSaving ? 'Saving...' : 'Save'}\r\n                    </button>\r\n\r\n                    <button\r\n                      onClick={handleNext}\r\n                      disabled={isSaving || !isFormValid || isNavigating || isTimeUp}\r\n                      className=\"flex items-center px-5 py-2 font-medium rounded-xl transition-all duration-200 disabled:cursor-not-allowed text-sm disabled:opacity-50\"\r\n                      style={{ \r\n                        background: 'var(--btn-primary-bg)',\r\n                        color: 'var(--text-on-dark)'\r\n                      }}\r\n                    >\r\n                      {isNavigating ? 'Moving...' : (\r\n                        <>\r\n                          Save & Continue\r\n                          <span className=\"ml-2\"></span>\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Celebration Modal Component (same as before)\r\nfunction CelebrationModal({ celebration, onClose }: { \r\n  celebration: {type: string, data: any}, \r\n  onClose: () => void \r\n}) {\r\n  const celebrations = {\r\n    topic: {\r\n      icon: '',\r\n      title: 'Topic Completed!',\r\n    },\r\n    subcategory: {\r\n      icon: '',\r\n      title: 'Subcategory Mastered!',\r\n    },\r\n    category: {\r\n      icon: '',\r\n      title: 'Category Champion!',\r\n    }\r\n  };\r\n\r\n  const config = celebrations[celebration.type as keyof typeof celebrations];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in p-4\">\r\n      <div \r\n        className=\"rounded-2xl p-6 max-w-lg mx-auto text-center shadow-2xl animate-bounce-in\"\r\n        style={{ \r\n          backgroundColor: 'var(--bg-card)',\r\n          border: '1px solid var(--border-light)'\r\n        }}\r\n      >\r\n        <div className=\"text-5xl mb-3\">{config.icon}</div>\r\n        <h2 \r\n          className=\"text-2xl font-bold mb-3\"\r\n          style={{ color: 'var(--text-primary)' }}\r\n        >\r\n          {config.title}\r\n        </h2>\r\n        <div \r\n          className=\"p-4 rounded-xl mb-4\"\r\n          style={{ \r\n            background: 'linear-gradient(to right, var(--tag-category-bg), var(--tag-subcategory-bg))',\r\n            border: '1px solid var(--border-light)'\r\n          }}\r\n        >\r\n          <p \r\n            className=\"font-medium text-lg mb-2\"\r\n            style={{ color: 'var(--text-primary)' }}\r\n          >\r\n            \"{celebration.data.name}\"\r\n          </p>\r\n          <p \r\n            className=\"text-sm\"\r\n            style={{ color: 'var(--text-secondary)' }}\r\n          >\r\n            {celebration.type === 'topic' && `in ${celebration.data.subcategoryName}`}\r\n            {celebration.type === 'subcategory' && `from ${celebration.data.categoryName}`}\r\n            {celebration.type === 'category' && 'Entire category completed!'}\r\n          </p>\r\n        </div>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"px-6 py-2 font-medium rounded-xl transition-all duration-200\"\r\n          style={{ \r\n            background: 'var(--btn-primary-bg)',\r\n            color: 'var(--text-on-dark)'\r\n          }}\r\n        >\r\n          Continue Survey\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,OAAO,QAAQ,4BAA4B;AACpD,SAASC,cAAc,EAAEC,wBAAwB,EAAEC,sBAAsB,EAAEC,sBAAsB,EAAEC,kBAAkB,QAAQ,qBAAqB;AAClJ,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,OAAOC,cAAc,MAAM,sBAAsB;AACjD,OAAOC,mBAAmB,MAAM,2BAA2B;AAC3D,OAAO,KAAKC,GAAG,MAAM,oBAAoB;;AAEzC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,qBAAqB,GAAG,EAAE,CAAC,CAAC;;AAElC,eAAe,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM;IACJC,KAAK;IACLC,YAAY;IACZC,cAAc;IACdC,kBAAkB;IAClBC,sBAAsB;IACtBC,+BAA+B;IAC/BC,mCAAmC;IACnCC,YAAY;IACZC;EACF,CAAC,GAAGzB,OAAO,CAAC,CAAC;;EAEb;EACA,MAAM,CAAC0B,MAAM,EAAEC,SAAS,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC+B,MAAM,EAAEC,SAAS,CAAC,GAAGhC,QAAQ,CAAsB,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACiC,QAAQ,EAAEC,WAAW,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACmC,SAAS,EAAEC,YAAY,CAAC,GAAGpC,QAAQ,CAACqC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EACtD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACyC,cAAc,EAAEC,iBAAiB,CAAC,GAAG1C,QAAQ,CAAgB,IAAI,CAAC;EACzE,MAAM,CAAC2C,YAAY,EAAEC,eAAe,CAAC,GAAG5C,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC6C,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG9C,QAAQ,CAA6B,IAAI,CAAC;EAChG,MAAM,CAAC+C,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGhD,QAAQ,CAAC,KAAK,CAAC;;EAEnE;EACA,MAAM,CAACiD,aAAa,EAAEC,gBAAgB,CAAC,GAAGlD,QAAQ,CAACiB,qBAAqB,GAAG,EAAE,CAAC,CAAC,CAAC;EAChF,MAAM,CAACkC,eAAe,EAAEC,kBAAkB,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACqD,QAAQ,EAAEC,WAAW,CAAC,GAAGtD,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAMuD,QAAQ,GAAGrD,MAAM,CAAgB,IAAI,CAAC;;EAE5C;EACA,MAAM,CAACsD,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGzD,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC0D,cAAc,EAAEC,iBAAiB,CAAC,GAAG3D,QAAQ,CAAM,IAAI,CAAC;EAC/D,MAAM,CAAC4D,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG7D,QAAQ,CAAS,CAAC,CAAC,CAAC;EAC5E,MAAM,CAAC8D,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG/D,QAAQ,CAAC,CAAC,CAAC;EACrE,MAAM,CAACgE,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGjE,QAAQ,CAAC,CAAC,CAAC;;EAErE;EACA,MAAM,CAACkE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGnE,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACoE,eAAe,EAAEC,kBAAkB,CAAC,GAAGrE,QAAQ,CAAW,EAAE,CAAC;EACpE,MAAM,CAACsE,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGvE,QAAQ,CAAS,CAAC,CAAC,CAAC;EACxE,MAAM,CAACwE,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGzE,QAAQ,CAAC,KAAK,CAAC;EACvE,MAAM,CAAC0E,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG3E,QAAQ,CAK3D;IAAE4E,IAAI,EAAE,IAAI;IAAEC,QAAQ,EAAE,CAAC;IAAEC,aAAa,EAAE,CAAC;IAAEC,SAAS,EAAE;EAAE,CAAC,CAAC;;EAE/D;EACA,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjF,QAAQ,CAAmC,IAAI,CAAC;EAE9F,MAAMkF,WAAW,GAAGhF,MAAM,CAAsB,IAAI,CAAC;EACrD,MAAMiF,mBAAmB,GAAG3D,sBAAsB,CAAC,CAAC;;EAEpD;EACAvB,SAAS,CAAC,MAAM;IACd,IAAIsD,QAAQ,CAAC6B,OAAO,EAAE;MACpBC,aAAa,CAAC9B,QAAQ,CAAC6B,OAAO,CAAC;IACjC;IAEA7B,QAAQ,CAAC6B,OAAO,GAAGE,WAAW,CAAC,MAAM;MACnCpC,gBAAgB,CAACqC,IAAI,IAAI;QACvB,MAAMC,OAAO,GAAGD,IAAI,GAAG,CAAC;;QAExB;QACA,IAAIC,OAAO,KAAK,GAAG,IAAI,CAACrC,eAAe,EAAE;UACvCC,kBAAkB,CAAC,IAAI,CAAC;QAC1B;;QAEA;QACA,IAAIoC,OAAO,IAAI,CAAC,EAAE;UAChBlC,WAAW,CAAC,IAAI,CAAC;UACjBmC,YAAY,CAAC,CAAC;UACd,OAAO,CAAC;QACV;QAEA,OAAOD,OAAO;MAChB,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;;IAER;IACA,OAAO,MAAM;MACX,IAAIjC,QAAQ,CAAC6B,OAAO,EAAE;QACpBC,aAAa,CAAC9B,QAAQ,CAAC6B,OAAO,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACjD,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMsD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BC,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;IAElE,IAAI9D,MAAM,CAAC+D,IAAI,CAAC,CAAC,CAACC,MAAM,IAAI,CAAC,EAAE;MAC7B;MACA,IAAI;QACF,MAAMC,WAAW,CAAC,CAAC;QACnBC,UAAU,CAAC,MAAM;UACfzE,cAAc,CAAC,CAAC;QAClB,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,CAAC,OAAO0E,KAAK,EAAE;QACdN,OAAO,CAACM,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC1E,cAAc,CAAC,CAAC,CAAC,CAAC;MACpB;IACF,CAAC,MAAM;MACL;MACAA,cAAc,CAAC,CAAC;IAClB;EACF,CAAC;;EAED;EACA,MAAM2E,mBAAmB,GAAIC,OAAe,IAAa;IACvD,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,GAAG,EAAE,CAAC;IACxC,MAAMI,gBAAgB,GAAGJ,OAAO,GAAG,EAAE;IACrC,OAAO,GAAGC,OAAO,IAAIG,gBAAgB,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EACrE,CAAC;;EAED;EACA,MAAMC,aAAa,GAAGA,CAAA,KAAc;IAClC,IAAIxD,aAAa,IAAI,EAAE,EAAE,OAAO,SAAS,CAAC,CAAC;IAC3C,IAAIA,aAAa,IAAI,GAAG,EAAE,OAAO,SAAS,CAAC,CAAC;IAC5C,IAAIA,aAAa,IAAI,GAAG,EAAE,OAAO,SAAS,CAAC,CAAC;IAC5C,OAAO,uBAAuB,CAAC,CAAC;EAClC,CAAC;;EAED;EACAhD,SAAS,CAAC,MAAM;IACd,MAAMyG,cAAc,GAAGtF,KAAK,CAACuF,SAAS,CAACC,IAAI;IAE3C,IAAIhD,oBAAoB,KAAK8C,cAAc,EAAE;IAE7C,IAAIrG,wBAAwB,CAACqG,cAAc,CAAC,IAAIvB,mBAAmB,EAAE;MACnEO,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAEe,cAAc,CAAC;MAEzE,MAAMG,KAAK,GAAGvG,sBAAsB,CAClC6E,mBAAmB,CAAC2B,QAAQ,EAC5B3B,mBAAmB,CAAC4B,KAAK,EACzB3F,KAAK,CAAC4F,QAAQ,IAAIC,SACpB,CAAC;MAEDtD,iBAAiB,CAACkD,KAAK,CAAC;MACxBpD,mBAAmB,CAAC,IAAI,CAAC;MACzBI,uBAAuB,CAAC6C,cAAc,CAAC;MACvC5E,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;IACjB,CAAC,MAAM,IAAI,CAACzB,wBAAwB,CAACqG,cAAc,CAAC,EAAE;MACpDjD,mBAAmB,CAAC,KAAK,CAAC;MAC1BE,iBAAiB,CAAC,IAAI,CAAC;IACzB;EACF,CAAC,EAAE,CAACvC,KAAK,CAACuF,SAAS,CAACC,IAAI,EAAEhD,oBAAoB,EAAEuB,mBAAmB,CAAC,CAAC;;EAErE;EACAlF,SAAS,CAAC,MAAM;IACd,IAAIkF,mBAAmB,IAAIA,mBAAmB,CAAC+B,UAAU,KAAKzE,cAAc,EAAE;MAC5EiD,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAER,mBAAmB,CAAC+B,UAAU,CAAC;MAElFlF,SAAS,CAAC,CAAC,CAAC,CAAC;MACbQ,cAAc,CAAC,KAAK,CAAC;MACrBJ,YAAY,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;MACxBI,iBAAiB,CAACyC,mBAAmB,CAAC+B,UAAU,CAAC;MACjDtE,eAAe,CAAC,KAAK,CAAC;MACtBE,sBAAsB,CAAC,IAAI,CAAC;MAC5BuB,kBAAkB,CAAC,EAAE,CAAC;;MAEtB;MACAnB,gBAAgB,CAACjC,qBAAqB,GAAG,EAAE,CAAC;MAC5CmC,kBAAkB,CAAC,KAAK,CAAC;MACzBE,WAAW,CAAC,KAAK,CAAC;;MAElB;MACA,IAAI,CAACE,gBAAgB,EAAE;QACrB,MAAM2D,gBAAgB,GAAG/F,KAAK,CAACuF,SAAS,CAACS,GAAG,CAACjC,mBAAmB,CAAC+B,UAAU,CAAC;QAC5E,IAAIC,gBAAgB,EAAE;UACpBzB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEwB,gBAAgB,CAAC;UACzDrF,SAAS,CAACqF,gBAAgB,CAACtF,MAAM,CAAC;QACpC,CAAC,MAAM;UACL6D,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;UAClD7D,SAAS,CAAC,EAAE,CAAC;QACf;MACF,CAAC,MAAM;QACL;QACAA,SAAS,CAAC,EAAE,CAAC;MACf;IACF;EACF,CAAC,EAAE,CAACqD,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAE+B,UAAU,EAAEzE,cAAc,EAAErB,KAAK,CAACuF,SAAS,EAAEnD,gBAAgB,CAAC,CAAC;;EAExF;EACAvD,SAAS,CAAC,MAAM;IACd,MAAMyG,cAAc,GAAGtF,KAAK,CAACuF,SAAS,CAACC,IAAI;IAE3C,IAAIF,cAAc,GAAG,CAAC,IAAIxC,gBAAgB,IAAIV,gBAAgB,EAAE;IAEhE,MAAM6D,YAAY,GAAGC,KAAK,CAACC,IAAI,CAACnG,KAAK,CAACuF,SAAS,CAACa,MAAM,CAAC,CAAC,CAAC;IACzD,MAAMC,YAAY,GAAGJ,YAAY,CAACK,GAAG,CAACC,CAAC,KAAK;MAAE9F,MAAM,EAAE8F,CAAC,CAAC9F,MAAM;MAAE+F,SAAS,EAAED,CAAC,CAACC;IAAU,CAAC,CAAC,CAAC;IAC1F,MAAMC,eAAe,GAAGrH,kBAAkB,CAACiH,YAAY,CAAC;IAExD,IAAII,eAAe,CAACC,iBAAiB,IAAI,CAACtD,oBAAoB,EAAE;MAC9DkB,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAEe,cAAc,CAAC;MACxEvC,mBAAmB,CAAC,IAAI,CAAC;MACzBI,qBAAqB,CAACmC,cAAc,CAAC;MACrCjC,uBAAuB,CAAC,IAAI,CAAC;MAC7BJ,kBAAkB,CAACwD,eAAe,CAACE,QAAQ,CAAC;MAC5CpD,sBAAsB,CAAC;QACrBC,IAAI,EAAEiD,eAAe,CAACG,SAAS;QAC/BnD,QAAQ,EAAEgD,eAAe,CAACI,gBAAgB;QAC1CnD,aAAa,EAAE+C,eAAe,CAACK,qBAAqB;QACpDnD,SAAS,EAAE8C,eAAe,CAACM;MAC7B,CAAC,CAAC;IACJ,CAAC,MACI,IAAIN,eAAe,CAACC,iBAAiB,IACjCtD,oBAAoB,IACpBF,kBAAkB,GAAG,CAAC,IACrBoC,cAAc,GAAGpC,kBAAkB,IAAK,CAAC,EAAE;MACnDoB,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAC;MACxExB,mBAAmB,CAAC,IAAI,CAAC;MACzBI,qBAAqB,CAACmC,cAAc,CAAC;MACrCrC,kBAAkB,CAACwD,eAAe,CAACE,QAAQ,CAAC;MAC5CpD,sBAAsB,CAAC;QACrBC,IAAI,EAAEiD,eAAe,CAACG,SAAS;QAC/BnD,QAAQ,EAAEgD,eAAe,CAACI,gBAAgB;QAC1CnD,aAAa,EAAE+C,eAAe,CAACK,qBAAqB;QACpDnD,SAAS,EAAE8C,eAAe,CAACM;MAC7B,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAC/G,KAAK,CAACuF,SAAS,CAACC,IAAI,EAAE1C,gBAAgB,EAAEM,oBAAoB,EAAEF,kBAAkB,EAAEd,gBAAgB,CAAC,CAAC;;EAExG;EACAvD,SAAS,CAAC,MAAM;IACd,IAAIiF,WAAW,CAACE,OAAO,EAAE;MACvBF,WAAW,CAACE,OAAO,CAACgD,KAAK,CAACC,MAAM,GAAG,MAAM;MACzCnD,WAAW,CAACE,OAAO,CAACgD,KAAK,CAACC,MAAM,GAAGnD,WAAW,CAACE,OAAO,CAACkD,YAAY,GAAG,IAAI;IAC5E;EACF,CAAC,EAAE,CAACzG,MAAM,CAAC,CAAC;EAEZ,MAAM0G,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,SAA8B,GAAG,CAAC,CAAC;IAEzC,MAAMC,gBAAgB,GAAGrI,cAAc,CAACyB,MAAM,CAAC;IAC/C,IAAI,CAAC4G,gBAAgB,CAACC,OAAO,EAAE;MAC7BF,SAAS,CAAC3G,MAAM,GAAG4G,gBAAgB,CAACE,OAAO;IAC7C;IAEA3G,SAAS,CAACwG,SAAS,CAAC;IACpB,OAAOI,MAAM,CAACC,IAAI,CAACL,SAAS,CAAC,CAAC3C,MAAM,KAAK,CAAC;EAC5C,CAAC;EAED,MAAMiD,kBAAkB,GAAIC,CAAyC,IAAK;IACxE,MAAMC,QAAQ,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IAC/BpH,SAAS,CAACkH,QAAQ,CAAC;IAEnB,IAAIjH,MAAM,CAACF,MAAM,EAAE;MACjBG,SAAS,CAACuD,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE1D,MAAM,EAAEoF;MAAU,CAAC,CAAC,CAAC;IACrD;;IAEA;IACA,IAAI+B,QAAQ,CAACnD,MAAM,GAAG,CAAC,IAAI,CAACrC,gBAAgB,EAAE;MAC5C,MAAM2F,eAAe,GAAG5I,sBAAsB,CAACyI,QAAQ,CAAC;MACxD,IAAIG,eAAe,CAACC,YAAY,EAAE;QAChC/E,kBAAkB,CAAC8E,eAAe,CAACE,MAAM,CAAC;MAC5C,CAAC,MAAM;QACLhF,kBAAkB,CAAC,EAAE,CAAC;MACxB;IACF,CAAC,MAAM;MACLA,kBAAkB,CAAC,EAAE,CAAC;IACxB;EACF,CAAC;EAED,MAAMiF,WAAW,GAAGA,CAAA,KAAM;IACxBxH,SAAS,CAAC,EAAE,CAAC;IACbE,SAAS,CAAC,CAAC,CAAC,CAAC;IACbQ,cAAc,CAAC,KAAK,CAAC;IACrB6B,kBAAkB,CAAC,EAAE,CAAC;IACtB,IAAIa,WAAW,CAACE,OAAO,EAAE;MACvBF,WAAW,CAACE,OAAO,CAACmE,KAAK,CAAC,CAAC;IAC7B;EACF,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,MAAM;MAAEC,aAAa;MAAEC,gBAAgB;MAAEC,UAAU;MAAEC;IAAc,CAAC,GAAGxI,KAAK,CAACyI,eAAe;IAC5F,MAAMC,eAAe,GAAG1I,KAAK,CAAC2I,aAAa,CAACN,aAAa,CAAC;IAC1D,MAAMO,kBAAkB,GAAGF,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEG,aAAa,CAACP,gBAAgB,CAAC;IAC3E,MAAMQ,YAAY,GAAGF,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAEG,MAAM,CAACR,UAAU,CAAC;IAE3D,IAAI,CAACO,YAAY,EAAE,OAAO,IAAI;IAE9B,IAAIN,aAAa,KAAKM,YAAY,CAACE,SAAS,CAACvE,MAAM,GAAG,CAAC,EAAE;MACvD,IAAI8D,UAAU,KAAKK,kBAAkB,CAACG,MAAM,CAACtE,MAAM,GAAG,CAAC,EAAE;QACvD,IAAI6D,gBAAgB,KAAKI,eAAe,CAACG,aAAa,CAACpE,MAAM,GAAG,CAAC,EAAE;UACjE,OAAO;YACLjB,IAAI,EAAE,UAAU;YAChByF,IAAI,EAAEP,eAAe,CAAChD,QAAQ;YAC9BwD,eAAe,EAAEN,kBAAkB,CAACO,WAAW;YAC/CC,SAAS,EAAEN,YAAY,CAACnD;UAC1B,CAAC;QACH;QACA,OAAO;UACLnC,IAAI,EAAE,aAAa;UACnByF,IAAI,EAAEL,kBAAkB,CAACO,WAAW;UACpCC,SAAS,EAAEN,YAAY,CAACnD,KAAK;UAC7B0D,YAAY,EAAEX,eAAe,CAAChD;QAChC,CAAC;MACH;MACA,OAAO;QACLlC,IAAI,EAAE,OAAO;QACbyF,IAAI,EAAEH,YAAY,CAACnD,KAAK;QACxBuD,eAAe,EAAEN,kBAAkB,CAACO,WAAW;QAC/CE,YAAY,EAAEX,eAAe,CAAChD;MAChC,CAAC;IACH;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAM4D,yBAAyB,GAAG,MAAAA,CAAA,KAAY;IAC5C,IAAItJ,KAAK,CAACuJ,SAAS,EAAE;MACnB,IAAI;QACF,MAAM/J,GAAG,CAACgK,kBAAkB,CAACxJ,KAAK,CAACuJ,SAAS,EAAE;UAC5C7G,qBAAqB;UACrBE,qBAAqB;UACrB6G,kBAAkB,EAAEzJ,KAAK,CAACuF,SAAS,CAACC;QACtC,CAAC,CAAC;QACFlB,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAE;UAAE7B,qBAAqB;UAAEE;QAAsB,CAAC,CAAC;MACjG,CAAC,CAAC,OAAOgC,KAAK,EAAE;QACdN,OAAO,CAACM,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MACjE;IACF;EACF,CAAC;;EAED;EACA,MAAMF,WAAW,GAAG,MAAOqD,eAAqB,IAAK;IACnD,IAAI,CAAChE,mBAAmB,IAAI,CAAC/D,KAAK,CAACuJ,SAAS,EAAE;MAC5CjF,OAAO,CAACM,KAAK,CAAC,gCAAgC,CAAC;MAC/C,OAAO,KAAK;IACd;;IAEA;IACA,MAAMkB,UAAU,GAAG1D,gBAAgB,GAC/B,mBAAmBpC,KAAK,CAACuF,SAAS,CAACC,IAAI,IAAIzB,mBAAmB,CAAC+B,UAAU,EAAE,GAC3E/B,mBAAmB,CAAC+B,UAAU;IAElC,MAAM4D,YAAY,GAAGtH,gBAAgB,GACjCE,cAAc,CAACqH,QAAQ,GACvB5F,mBAAmB,CAAC4F,QAAQ;IAEhC,IAAI,CAAC5B,eAAe,EAAE;MACpBA,eAAe,GAAG5I,sBAAsB,CAACsB,MAAM,CAAC;IAClD;IAEAK,WAAW,CAAC,IAAI,CAAC;IAEjB,IAAI;MACF,MAAM0F,SAAS,GAAGxB,IAAI,CAACC,KAAK,CAAC,CAAChE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGH,SAAS,IAAI,IAAI,CAAC;MAE7DuD,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE;QAC/BxD,SAAS,EAAE,IAAIE,IAAI,CAACF,SAAS,CAAC,CAAC6I,WAAW,CAAC,CAAC;QAC5CC,OAAO,EAAE,IAAI5I,IAAI,CAAC,CAAC,CAAC2I,WAAW,CAAC,CAAC;QACjCE,gBAAgB,EAAEtD,SAAS;QAC3BuD,YAAY,EAAEtJ,MAAM,CAACgE,MAAM;QAC3BuF,cAAc,EAAEnK,qBAAqB,GAAG;MAC1C,CAAC,CAAC;MAEF,MAAMoK,QAAQ,GAAG;QACfV,SAAS,EAAEvJ,KAAK,CAACuJ,SAAS;QAC1BzD,UAAU,EAAEA,UAAU;QACtBuC,aAAa,EAAErI,KAAK,CAACyI,eAAe,CAACJ,aAAa;QAClDC,gBAAgB,EAAEtI,KAAK,CAACyI,eAAe,CAACH,gBAAgB;QACxDC,UAAU,EAAEvI,KAAK,CAACyI,eAAe,CAACF,UAAU;QAC5CC,aAAa,EAAExI,KAAK,CAACyI,eAAe,CAACD,aAAa;QAClD9C,QAAQ,EAAE3B,mBAAmB,CAAC2B,QAAQ;QACtCyD,WAAW,EAAEpF,mBAAmB,CAACoF,WAAW;QAC5CxD,KAAK,EAAE5B,mBAAmB,CAAC4B,KAAK;QAChCgE,QAAQ,EAAED,YAAY;QACtBjJ,MAAM,EAAEA,MAAM,CAAC+D,IAAI,CAAC,CAAC;QACrBgC,SAAS;QACT0D,SAAS,EAAE,IAAIjJ,IAAI,CAAC,CAAC,CAAC2I,WAAW,CAAC,CAAC;QACnCO,YAAY,EAAEpC,eAAe,CAACqC,KAAK;QACnC;QACAhI,gBAAgB,EAAEA,gBAAgB;QAClCiI,kBAAkB,EAAEjI,gBAAgB,GAAGE,cAAc,CAACkB,IAAI,GAAGqC,SAAS;QACtEyE,cAAc,EAAElI,gBAAgB,GAAGE,cAAc,CAACgI,cAAc,GAAGzE;MACrE,CAAC;MAED,MAAM5F,YAAY,CAACgK,QAAQ,CAAC;MAC5B,MAAMX,yBAAyB,CAAC,CAAC;MAEjClI,cAAc,CAAC,IAAI,CAAC;MACpBuD,UAAU,CAAC,MAAMvD,cAAc,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;MAC7C,OAAO,IAAI;IAEb,CAAC,CAAC,OAAOwD,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACnC,MAAMA,KAAK;IACb,CAAC,SAAS;MACR9D,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMyJ,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACpD,YAAY,CAAC,CAAC,IAAI,CAACpD,mBAAmB,IAAI,CAAC/D,KAAK,CAACuJ,SAAS,EAAE;MAC/DjF,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE5D,MAAM,CAAC;MACzC,OAAO,KAAK;IACd;IAEA,IAAI;MACF,MAAMoH,eAAe,GAAG5I,sBAAsB,CAACsB,MAAM,CAAC;MACtD,OAAO,MAAMiE,WAAW,CAACqD,eAAe,CAAC;IAC3C,CAAC,CAAC,OAAOnD,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpC4F,KAAK,CAAC,4CAA4C,CAAC;MACnD,OAAO,KAAK;IACd;EACF,CAAC;EAED,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMnD,OAAO,GAAGH,YAAY,CAAC,CAAC;IAC9B,IAAI,CAACG,OAAO,EAAE;MACZhD,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;MACrD;IACF;IAEA,IAAI;MACF,MAAMmG,cAAc,GAAG,MAAMH,UAAU,CAAC,CAAC;MAEzC,IAAIG,cAAc,IAAIpD,OAAO,EAAE;QAC7B,MAAMqD,SAAS,GAAGvC,kBAAkB,CAAC,CAAC;QAEtC1G,sBAAsB,CAAC,MAAM,CAAC;QAC9BF,eAAe,CAAC,IAAI,CAAC;QAErBmD,UAAU,CAAC,MAAM;UACfzE,cAAc,CAAC,CAAC;UAEhB,IAAIyK,SAAS,IAAI,CAACvI,gBAAgB,EAAE;YAClCyB,kBAAkB,CAAC;cAACL,IAAI,EAAEmH,SAAS,CAACnH,IAAI;cAAEoH,IAAI,EAAED;YAAS,CAAC,CAAC;UAC7D;QACF,CAAC,EAAE,GAAG,CAAC;MACT;IACF,CAAC,CAAC,OAAO/F,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD;EACF,CAAC;EAED,MAAMiG,cAAc,GAAGA,CAAA,KAAM;IAC3BnJ,sBAAsB,CAAC,UAAU,CAAC;IAClCF,eAAe,CAAC,IAAI,CAAC;IAErBmD,UAAU,CAAC,MAAM;MACfxE,kBAAkB,CAAC,CAAC;IACtB,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAM2K,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI1I,gBAAgB,EAAE,OAAO,CAAC;;IAE9B1B,SAAS,CAAC,EAAE,CAAC;IACbE,SAAS,CAAC,CAAC,CAAC,CAAC;IAEbc,sBAAsB,CAAC,MAAM,CAAC;IAC9BF,eAAe,CAAC,IAAI,CAAC;IAErBmD,UAAU,CAAC,MAAM;MACfzE,cAAc,CAAC,CAAC;IAClB,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAM6K,wBAAwB,GAAG,MAAAA,CAAO1C,aAAqB,EAAEC,gBAAwB,EAAEC,UAAkB,EAAEC,aAAqB,KAAK;IACrI,MAAMlB,OAAO,GAAGH,YAAY,CAAC,CAAC;IAC9B,IAAIG,OAAO,IAAI7G,MAAM,CAAC+D,IAAI,CAAC,CAAC,EAAE;MAC5BF,OAAO,CAACC,GAAG,CAAC,yDAAyD,CAAC;MACtE,IAAI;QACF,MAAMgG,UAAU,CAAC,CAAC;MACpB,CAAC,CAAC,OAAO3F,KAAK,EAAE;QACdN,OAAO,CAACM,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MAC3D;IACF;IAEAN,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE8D,aAAa,EAAEC,gBAAgB,EAAEC,UAAU,EAAEC,aAAa,CAAC;IACvG,MAAMhI,kBAAkB,CAAC6H,aAAa,EAAEC,gBAAgB,EAAEC,UAAU,EAAEC,aAAa,CAAC;EACtF,CAAC;EAED,MAAMwC,uBAAuB,GAAGA,CAAA,KAAM;IACpC1G,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;IAChExB,mBAAmB,CAAC,KAAK,CAAC;IAE1BrC,SAAS,CAAC,EAAE,CAAC;IACbE,SAAS,CAAC,CAAC,CAAC,CAAC;IAEb+D,UAAU,CAAC,MAAM;MACf,IAAIb,WAAW,CAACE,OAAO,EAAE;QACvBF,WAAW,CAACE,OAAO,CAACmE,KAAK,CAAC,CAAC;MAC7B;IACF,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;EAED,MAAM8C,gBAAgB,GAAGA,CAAA,KAAM;IAC7BpH,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,IAAI,CAACE,mBAAmB,EAAE;IACxB,oBACErE,OAAA;MAAKwL,SAAS,EAAC,2DAA2D;MAAAC,QAAA,eACxEzL,OAAA;QAAKwL,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BzL,OAAA;UAAKwL,SAAS,EAAC;QAA6E;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACnG7L,OAAA;UAAGwL,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,MAAMC,aAAa,GAAGnL,+BAA+B,CAAC,CAAC;EACvD,MAAMoL,gBAAgB,GAAGnL,mCAAmC,CAAC,CAAC;EAC9D,MAAMoL,sBAAsB,GAAG1L,KAAK,CAACyI,eAAe,CAACD,aAAa,GAAG,CAAC;EACtE,MAAMmD,eAAe,GAAG3L,KAAK,CAACyI,eAAe,CAACJ,aAAa,KAAK,CAAC,IAC1CrI,KAAK,CAACyI,eAAe,CAACH,gBAAgB,KAAK,CAAC,IAC5CtI,KAAK,CAACyI,eAAe,CAACF,UAAU,KAAK,CAAC,IACtCvI,KAAK,CAACyI,eAAe,CAACD,aAAa,KAAK,CAAC;EAEhE,MAAMoD,WAAW,GAAGnL,MAAM,CAAC+D,IAAI,CAAC,CAAC,CAACC,MAAM,IAAI,CAAC;;EAE7C;EACA,MAAMoH,mBAAmB,GAAGzJ,gBAAgB,GACxC;IACEuD,KAAK,EAAE5B,mBAAmB,CAAC4B,KAAK;IAAE;IAClCD,QAAQ,EAAE3B,mBAAmB,CAAC2B,QAAQ;IAAE;IACxCyD,WAAW,EAAEpF,mBAAmB,CAACoF,WAAW;IAAE;IAC9CQ,QAAQ,EAAErH,cAAc,CAACqH,QAAQ,CAAC;EACpC,CAAC,GACD5F,mBAAmB;EAEvB,oBACErE,OAAA;IACEwL,SAAS,EAAC,cAAc;IACxBlE,KAAK,EAAE;MACL8E,UAAU,EAAE;IACd,CAAE;IAAAX,QAAA,gBAEFzL,OAAA,CAACL,WAAW;MAAA+L,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAGf7L,OAAA;MAAKwL,SAAS,EAAC,0BAA0B;MAAAC,QAAA,eACvCzL,OAAA;QACEwL,SAAS,EAAC,yEAAyE;QACnFlE,KAAK,EAAE;UACL+E,eAAe,EAAE,0BAA0B;UAC3CC,MAAM,EAAE,aAAa3G,aAAa,CAAC,CAAC;QACtC,CAAE;QAAA8F,QAAA,eAEFzL,OAAA;UAAKwL,SAAS,EAAC,6BAA6B;UAAAC,QAAA,eAC1CzL,OAAA;YACEwL,SAAS,EAAC,mBAAmB;YAC7BlE,KAAK,EAAE;cAAEiF,KAAK,EAAE5G,aAAa,CAAC;YAAE,CAAE;YAAA8F,QAAA,GACnC,eACI,EAACtG,mBAAmB,CAAChD,aAAa,CAAC;UAAA;YAAAuJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN7L,OAAA;MAAKwL,SAAS,EAAC,2BAA2B;MAAAC,QAAA,eACxCzL,OAAA;QACEwM,OAAO,EAAEA,CAAA,KAAMtK,qBAAqB,CAAC,IAAI,CAAE;QAC3CsJ,SAAS,EAAC,wEAAwE;QAClFlE,KAAK,EAAE;UACL8E,UAAU,EAAE,uBAAuB;UACnCG,KAAK,EAAE;QACT,CAAE;QACFE,KAAK,EAAC,iBAAiB;QAAAhB,QAAA,eAEvBzL,OAAA;UAAMwL,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLxJ,eAAe,IAAI,CAACE,QAAQ,iBAC3BvC,OAAA;MAAKwL,SAAS,EAAC,sFAAsF;MAAAC,QAAA,eACnGzL,OAAA;QACEwL,SAAS,EAAC,2EAA2E;QACrFlE,KAAK,EAAE;UACL+E,eAAe,EAAE,gBAAgB;UACjCC,MAAM,EAAE;QACV,CAAE;QAAAb,QAAA,gBAEFzL,OAAA;UAAKwL,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACtC7L,OAAA;UAAIwL,SAAS,EAAC,wBAAwB;UAAClE,KAAK,EAAE;YAAEiF,KAAK,EAAE;UAAU,CAAE;UAAAd,QAAA,EAAC;QAEpE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL7L,OAAA;UAAGwL,SAAS,EAAC,cAAc;UAAClE,KAAK,EAAE;YAAEiF,KAAK,EAAE;UAAsB,CAAE;UAAAd,QAAA,EAAC;QAGrE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ7L,OAAA;UACEwM,OAAO,EAAEA,CAAA,KAAMlK,kBAAkB,CAAC,KAAK,CAAE;UACzCkJ,SAAS,EAAC,8DAA8D;UACxElE,KAAK,EAAE;YACL8E,UAAU,EAAE,SAAS;YACrBG,KAAK,EAAE;UACT,CAAE;UAAAd,QAAA,EACH;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAtJ,QAAQ,iBACPvC,OAAA;MAAKwL,SAAS,EAAC,sFAAsF;MAAAC,QAAA,eACnGzL,OAAA;QACEwL,SAAS,EAAC,2EAA2E;QACrFlE,KAAK,EAAE;UACL+E,eAAe,EAAE,gBAAgB;UACjCC,MAAM,EAAE;QACV,CAAE;QAAAb,QAAA,gBAEFzL,OAAA;UAAKwL,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACtC7L,OAAA;UAAIwL,SAAS,EAAC,wBAAwB;UAAClE,KAAK,EAAE;YAAEiF,KAAK,EAAE;UAAU,CAAE;UAAAd,QAAA,EAAC;QAEpE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACL7L,OAAA;UAAGwL,SAAS,EAAC,cAAc;UAAClE,KAAK,EAAE;YAAEiF,KAAK,EAAE;UAAsB,CAAE;UAAAd,QAAA,EACjE1K,MAAM,CAAC+D,IAAI,CAAC,CAAC,CAACC,MAAM,IAAI,CAAC,GACtB,oFAAoF,GACpF;QAAmE;UAAA2G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEtE,CAAC,eACJ7L,OAAA;UAAKwL,SAAS,EAAC;QAAqE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAGD7L,OAAA,CAACJ,cAAc;MACb8M,MAAM,EAAEzK,kBAAmB;MAC3B0K,OAAO,EAAEA,CAAA,KAAMzK,qBAAqB,CAAC,KAAK,CAAE;MAC5C0K,YAAY,EAAEvB;IAAyB;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CAAC,EAGD,CAACnJ,gBAAgB,iBAChB1C,OAAA,CAACH,mBAAmB;MAClB6M,MAAM,EAAEtJ,gBAAiB;MACzBuJ,OAAO,EAAErB,uBAAwB;MACjCuB,aAAa,EAAEvJ,eAAgB;MAC/B4D,SAAS,EAAEtD,mBAAmB,CAACE,IAAK;MACpCqD,gBAAgB,EAAEvD,mBAAmB,CAACG,QAAS;MAC/CqD,qBAAqB,EAAExD,mBAAmB,CAACI,aAAc;MACzDqD,gBAAgB,EAAEzD,mBAAmB,CAACK;IAAU;MAAAyH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CACF,EAGA3H,eAAe,iBACdlE,OAAA,CAAC8M,gBAAgB;MACfC,WAAW,EAAE7I,eAAgB;MAC7ByI,OAAO,EAAEpB;IAAiB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CACF,eAED7L,OAAA;MAAKwL,SAAS,EAAC,6BAA6B;MAAAC,QAAA,eAE1CzL,OAAA;QAAKwL,SAAS,EAAC,0BAA0B;QAAAC,QAAA,eACvCzL,OAAA;UAAKwL,SAAS,EAAE,qDACd3J,YAAY,GACRE,mBAAmB,KAAK,MAAM,GAC5B,6BAA6B,GAC7B,4BAA4B,GAC9B,2BAA2B,EAC9B;UAAA0J,QAAA,gBAGDzL,OAAA;YACEwL,SAAS,EAAC,iDAAiD;YAC3DlE,KAAK,EAAE;cACL+E,eAAe,EAAE,gBAAgB;cACjCC,MAAM,EAAE;YACV,CAAE;YAAAb,QAAA,gBAEFzL,OAAA;cAAKwL,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BzL,OAAA;gBACEwL,SAAS,EAAC,+FAA+F;gBACzGlE,KAAK,EAAE;kBACL8E,UAAU,EAAE;gBACd,CAAE;gBAAAX,QAAA,GACH,WACU,EAACO,sBAAsB,EAAC,MAAI,EAACF,aAAa;cAAA;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC,eAEN7L,OAAA;gBACEwL,SAAS,EAAC,yCAAyC;gBACnDlE,KAAK,EAAE;kBAAEiF,KAAK,EAAE;gBAAsB,CAAE;gBAAAd,QAAA,EAEvCU,mBAAmB,CAAClG;cAAK;gBAAAyF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC,eAEL7L,OAAA;gBAAKwL,SAAS,EAAC,oDAAoD;gBAAAC,QAAA,gBACjEzL,OAAA;kBACEwL,SAAS,EAAC,oCAAoC;kBAC9ClE,KAAK,EAAE;oBACL+E,eAAe,EAAE,wBAAwB;oBACzCE,KAAK,EAAE,0BAA0B;oBACjCD,MAAM,EAAE;kBACV,CAAE;kBAAAb,QAAA,EAEDU,mBAAmB,CAACnG;gBAAQ;kBAAA0F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzB,CAAC,eACP7L,OAAA;kBAAMsH,KAAK,EAAE;oBAAEiF,KAAK,EAAE;kBAAoB,CAAE;kBAAAd,QAAA,EAAC;gBAAC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACrD7L,OAAA;kBACEwL,SAAS,EAAC,oCAAoC;kBAC9ClE,KAAK,EAAE;oBACL+E,eAAe,EAAE,2BAA2B;oBAC5CE,KAAK,EAAE,6BAA6B;oBACpCD,MAAM,EAAE;kBACV,CAAE;kBAAAb,QAAA,EAEDU,mBAAmB,CAAC1C;gBAAW;kBAAAiC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGN7L,OAAA;cAAKwL,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBzL,OAAA;gBACEwL,SAAS,EAAC,yCAAyC;gBACnDlE,KAAK,EAAE;kBAAE+E,eAAe,EAAE;gBAAqB,CAAE;gBAAAZ,QAAA,eAEjDzL,OAAA;kBACEwL,SAAS,EAAC,wDAAwD;kBAClElE,KAAK,EAAE;oBACL8E,UAAU,EAAE,yBAAyB;oBACrCY,KAAK,EAAE,GAAIjB,gBAAgB,GAAGD,aAAa,GAAI,GAAG;kBACpD;gBAAE;kBAAAJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eAEN7L,OAAA;gBACEwL,SAAS,EAAC,0BAA0B;gBACpClE,KAAK,EAAE;kBAAEiF,KAAK,EAAE;gBAAwB,CAAE;gBAAAd,QAAA,GAEzCM,gBAAgB,EAAC,MAAI,EAACD,aAAa,EAAC,sBACvC;cAAA;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN7L,OAAA;YACEwL,SAAS,EAAC,wDAAwD;YAClElE,KAAK,EAAE;cACL+E,eAAe,EAAE,gBAAgB;cACjCC,MAAM,EAAE;YACV,CAAE;YAAAb,QAAA,gBAIFzL,OAAA;cACEwL,SAAS,EAAC,KAAK;cACflE,KAAK,EAAE;gBACL8E,UAAU,EAAE,uBAAuB;gBACnCG,KAAK,EAAE;cACT,CAAE;cAAAd,QAAA,eAEFzL,OAAA;gBAAKwL,SAAS,EAAC,kCAAkC;gBAAAC,QAAA,gBAC/CzL,OAAA;kBAAIwL,SAAS,EAAC,uDAAuD;kBAAAC,QAAA,EAClEU,mBAAmB,CAAClC;gBAAQ;kBAAAyB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3B,CAAC,eAGL7L,OAAA;kBACEwL,SAAS,EAAC,iDAAiD;kBAC3DlE,KAAK,EAAE;oBACL+E,eAAe,EAAE,0BAA0B;oBAC3CE,KAAK,EAAEpK,aAAa,IAAI,GAAG,GAAG,SAAS,GAAG;kBAC5C,CAAE;kBAAAsJ,QAAA,EAEDtG,mBAAmB,CAAChD,aAAa;gBAAC;kBAAAuJ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGN7L,OAAA;cAAKwL,SAAS,EAAC,KAAK;cAAAC,QAAA,gBAClBzL,OAAA;gBAAKwL,SAAS,EAAC,MAAM;gBAAAC,QAAA,gBACnBzL,OAAA;kBAAKwL,SAAS,EAAC,wCAAwC;kBAAAC,QAAA,gBACrDzL,OAAA;oBACEwL,SAAS,EAAC,6BAA6B;oBACvClE,KAAK,EAAE;sBAAEiF,KAAK,EAAE;oBAAsB,CAAE;oBAAAd,QAAA,gBAExCzL,OAAA;sBAAAyL,QAAA,EAAM;oBAAa;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eAC1B7L,OAAA;sBACEwL,SAAS,EAAC,gCAAgC;sBAC1ClE,KAAK,EAAE;wBAAEiF,KAAK,EAAE;sBAAwB,CAAE;sBAAAd,QAAA,EAC3C;oBAED;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACF,CAAC,eACR7L,OAAA;oBACEwM,OAAO,EAAEhE,WAAY;oBACrBgD,SAAS,EAAC,uDAAuD;oBACjElE,KAAK,EAAE;sBAAEiF,KAAK,EAAE;oBAAwB,CAAE;oBAAAd,QAAA,EAC3C;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eAGN7L,OAAA;kBAAKwL,SAAS,EAAC,UAAU;kBAAAC,QAAA,gBACvBzL,OAAA;oBACEiN,GAAG,EAAE7I,WAAY;oBACjBgE,KAAK,EAAErH,MAAO;oBACdmM,QAAQ,EAAElF,kBAAmB;oBAC7BmF,WAAW,EAAC,wGAAwG;oBACpH3B,SAAS,EAAE,8FACTvK,MAAM,CAACF,MAAM,GAAG,sBAAsB,GAAG,EAAE,EAC1C;oBACHuG,KAAK,EAAE;sBACLiF,KAAK,EAAE,qBAAqB;sBAC5Ba,WAAW,EAAEnM,MAAM,CAACF,MAAM,GAAG,qBAAqB,GAAG,sBAAsB;sBAC3EsL,eAAe,EAAE;oBACnB,CAAE;oBACFgB,SAAS,EAAE,IAAK;oBAChBC,QAAQ,EAAEnM,QAAQ,IAAIoB;kBAAS;oBAAAmJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAChC,CAAC,eAEF7L,OAAA;oBACEwL,SAAS,EAAE,+DAAgE;oBAC3ElE,KAAK,EAAE;sBACL+E,eAAe,EAAEtL,MAAM,CAACgE,MAAM,IAAI,CAAC,GAAG,oBAAoB,GAAG,SAAS;sBACtEwH,KAAK,EAAExL,MAAM,CAACgE,MAAM,IAAI,CAAC,GAAG,uBAAuB,GAAG,uBAAuB;sBAC7EqI,WAAW,EAAErM,MAAM,CAACgE,MAAM,IAAI,CAAC,GAAG,qBAAqB,GAAG;oBAC5D,CAAE;oBAAA0G,QAAA,GAED1K,MAAM,CAACgE,MAAM,EAAC,QAAM,EAAChE,MAAM,CAACgE,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,GAAGhE,MAAM,CAACgE,MAAM,eAAe;kBAAA;oBAAA2G,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5E,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,EAEL5K,MAAM,CAACF,MAAM,iBACZf,OAAA;kBAAGwL,SAAS,EAAC,0BAA0B;kBAAClE,KAAK,EAAE;oBAAEiF,KAAK,EAAE;kBAAsB,CAAE;kBAAAd,QAAA,EAC7ExK,MAAM,CAACF;gBAAM;kBAAA2K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACb,CACJ;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,EAGL,CAACnJ,gBAAgB,IAAIY,eAAe,CAACyB,MAAM,GAAG,CAAC,iBAC9C/E,OAAA;gBACEwL,SAAS,EAAC,4BAA4B;gBACtClE,KAAK,EAAE;kBACL8E,UAAU,EAAE,uBAAuB;kBACnCgB,WAAW,EAAE;gBACf,CAAE;gBAAA3B,QAAA,eAEFzL,OAAA;kBAAKwL,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,gBAC/BzL,OAAA;oBAAMsH,KAAK,EAAE;sBAAEiF,KAAK,EAAE;oBAAwB,CAAE;oBAACf,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAC;kBAAE;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC3E7L,OAAA;oBAAKwL,SAAS,EAAC,SAAS;oBAAClE,KAAK,EAAE;sBAAEiF,KAAK,EAAE;oBAAU,CAAE;oBAAAd,QAAA,gBACnDzL,OAAA;sBAAGwL,SAAS,EAAC,kBAAkB;sBAAAC,QAAA,EAAC;oBAAwB;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eAC5D7L,OAAA;sBAAIwL,SAAS,EAAC,mBAAmB;sBAAAC,QAAA,EAC9BnI,eAAe,CAACsD,GAAG,CAAC,CAAC2G,OAAO,EAAEC,KAAK,kBAClCxN,OAAA;wBAAAyL,QAAA,GAAgB,SAAE,EAAC8B,OAAO;sBAAA,GAAjBC,KAAK;wBAAA9B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAiB,CAChC;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACA,CAAC,eACL7L,OAAA;sBAAGwL,SAAS,EAAC,kBAAkB;sBAAAC,QAAA,EAAC;oBAEhC;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN,EAGApK,WAAW,iBACVzB,OAAA;gBACEwL,SAAS,EAAC,8CAA8C;gBACxDlE,KAAK,EAAE;kBACL8E,UAAU,EAAE,uBAAuB;kBACnCgB,WAAW,EAAE,oBAAoB;kBACjCb,KAAK,EAAE;gBACT,CAAE;gBAAAd,QAAA,eAEFzL,OAAA;kBAAKwL,SAAS,EAAC,mBAAmB;kBAAAC,QAAA,gBAChCzL,OAAA;oBAAMwL,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAC;kBAAC;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC/B7L,OAAA;oBAAMwL,SAAS,EAAC,qBAAqB;oBAAAC,QAAA,EAAC;kBAA4B;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN,EAGA,CAACK,WAAW,iBACXlM,OAAA;gBACEwL,SAAS,EAAC,4BAA4B;gBACtClE,KAAK,EAAE;kBACL8E,UAAU,EAAE,uBAAuB;kBACnCgB,WAAW,EAAE;gBACf,CAAE;gBAAA3B,QAAA,eAEFzL,OAAA;kBAAKwL,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,gBAC/BzL,OAAA;oBAAMsH,KAAK,EAAE;sBAAEiF,KAAK,EAAE;oBAAwB,CAAE;oBAACf,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAC;kBAAE;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC3E7L,OAAA;oBAAKwL,SAAS,EAAC,SAAS;oBAAClE,KAAK,EAAE;sBAAEiF,KAAK,EAAE;oBAAU,CAAE;oBAAAd,QAAA,gBACnDzL,OAAA;sBAAGwL,SAAS,EAAC,kBAAkB;sBAAAC,QAAA,EAAC;oBAA8B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eAClE7L,OAAA;sBAAIwL,SAAS,EAAC,mBAAmB;sBAAAC,QAAA,eAC/BzL,OAAA;wBAAAyL,QAAA,EAAI;sBAA4D;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACnE,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACF,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN,eAGD7L,OAAA;gBACEwL,SAAS,EAAC,iDAAiD;gBAC3DlE,KAAK,EAAE;kBAAE8F,WAAW,EAAE;gBAAsB,CAAE;gBAAA3B,QAAA,gBAE9CzL,OAAA;kBACEwM,OAAO,EAAErB,cAAe;kBACxBmC,QAAQ,EAAErB,eAAe,IAAIpK,YAAY,IAAIU,QAAS;kBACtDiJ,SAAS,EAAC,wIAAwI;kBAClJlE,KAAK,EAAE;oBACL8E,UAAU,EAAE,uBAAuB;oBACnCG,KAAK,EAAE;kBACT,CAAE;kBAAAd,QAAA,gBAEFzL,OAAA;oBAAMwL,SAAS,EAAC,MAAM;oBAAAC,QAAA,EAAC;kBAAC;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,YAEjC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAET7L,OAAA;kBAAKwL,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,GAE5B,CAAC/I,gBAAgB,iBAChB1C,OAAA;oBACEwM,OAAO,EAAEpB,UAAW;oBACpBkC,QAAQ,EAAEzL,YAAY,IAAIU,QAAS;oBACnCiJ,SAAS,EAAC,sEAAsE;oBAChFlE,KAAK,EAAE;sBACL8E,UAAU,EAAE,uBAAuB;sBACnCG,KAAK,EAAE;oBACT,CAAE;oBAAAd,QAAA,EACH;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CACT,eAED7L,OAAA;oBACEwM,OAAO,EAAE3B,UAAW;oBACpByC,QAAQ,EAAEnM,QAAQ,IAAI,CAAC+K,WAAW,IAAIrK,YAAY,IAAIU,QAAS;oBAC/DiJ,SAAS,EAAC,sHAAsH;oBAChIlE,KAAK,EAAE;sBACL8E,UAAU,EAAE,yBAAyB;sBACrCG,KAAK,EAAE;oBACT,CAAE;oBAAAd,QAAA,EAEDtK,QAAQ,GAAG,WAAW,GAAG;kBAAM;oBAAAuK,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1B,CAAC,eAET7L,OAAA;oBACEwM,OAAO,EAAEzB,UAAW;oBACpBuC,QAAQ,EAAEnM,QAAQ,IAAI,CAAC+K,WAAW,IAAIrK,YAAY,IAAIU,QAAS;oBAC/DiJ,SAAS,EAAC,wIAAwI;oBAClJlE,KAAK,EAAE;sBACL8E,UAAU,EAAE,uBAAuB;sBACnCG,KAAK,EAAE;oBACT,CAAE;oBAAAd,QAAA,EAED5J,YAAY,GAAG,WAAW,gBACzB7B,OAAA,CAAAE,SAAA;sBAAAuL,QAAA,GAAE,iBAEA,eAAAzL,OAAA;wBAAMwL,SAAS,EAAC,MAAM;wBAAAC,QAAA,EAAC;sBAAC;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA,eAC/B;kBACH;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;;AAEA;AAAAxL,EAAA,CAh9BwBD,YAAY;EAAA,QAW9Bf,OAAO;AAAA;AAAAoO,EAAA,GAXWrN,YAAY;AAi9BpC,SAAS0M,gBAAgBA,CAAC;EAAEC,WAAW;EAAEJ;AAGzC,CAAC,EAAE;EACD,MAAMe,YAAY,GAAG;IACnBzH,KAAK,EAAE;MACL0H,IAAI,EAAE,IAAI;MACVlB,KAAK,EAAE;IACT,CAAC;IACDhD,WAAW,EAAE;MACXkE,IAAI,EAAE,IAAI;MACVlB,KAAK,EAAE;IACT,CAAC;IACDzG,QAAQ,EAAE;MACR2H,IAAI,EAAE,IAAI;MACVlB,KAAK,EAAE;IACT;EACF,CAAC;EAED,MAAMmB,MAAM,GAAGF,YAAY,CAACX,WAAW,CAACjJ,IAAI,CAA8B;EAE1E,oBACE9D,OAAA;IAAKwL,SAAS,EAAC,sGAAsG;IAAAC,QAAA,eACnHzL,OAAA;MACEwL,SAAS,EAAC,2EAA2E;MACrFlE,KAAK,EAAE;QACL+E,eAAe,EAAE,gBAAgB;QACjCC,MAAM,EAAE;MACV,CAAE;MAAAb,QAAA,gBAEFzL,OAAA;QAAKwL,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAEmC,MAAM,CAACD;MAAI;QAAAjC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAClD7L,OAAA;QACEwL,SAAS,EAAC,yBAAyB;QACnClE,KAAK,EAAE;UAAEiF,KAAK,EAAE;QAAsB,CAAE;QAAAd,QAAA,EAEvCmC,MAAM,CAACnB;MAAK;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC,eACL7L,OAAA;QACEwL,SAAS,EAAC,qBAAqB;QAC/BlE,KAAK,EAAE;UACL8E,UAAU,EAAE,8EAA8E;UAC1FE,MAAM,EAAE;QACV,CAAE;QAAAb,QAAA,gBAEFzL,OAAA;UACEwL,SAAS,EAAC,0BAA0B;UACpClE,KAAK,EAAE;YAAEiF,KAAK,EAAE;UAAsB,CAAE;UAAAd,QAAA,GACzC,IACE,EAACsB,WAAW,CAAC7B,IAAI,CAAC3B,IAAI,EAAC,IAC1B;QAAA;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ7L,OAAA;UACEwL,SAAS,EAAC,SAAS;UACnBlE,KAAK,EAAE;YAAEiF,KAAK,EAAE;UAAwB,CAAE;UAAAd,QAAA,GAEzCsB,WAAW,CAACjJ,IAAI,KAAK,OAAO,IAAI,MAAMiJ,WAAW,CAAC7B,IAAI,CAAC1B,eAAe,EAAE,EACxEuD,WAAW,CAACjJ,IAAI,KAAK,aAAa,IAAI,QAAQiJ,WAAW,CAAC7B,IAAI,CAACvB,YAAY,EAAE,EAC7EoD,WAAW,CAACjJ,IAAI,KAAK,UAAU,IAAI,4BAA4B;QAAA;UAAA4H,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACN7L,OAAA;QACEwM,OAAO,EAAEG,OAAQ;QACjBnB,SAAS,EAAC,8DAA8D;QACxElE,KAAK,EAAE;UACL8E,UAAU,EAAE,uBAAuB;UACnCG,KAAK,EAAE;QACT,CAAE;QAAAd,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACgC,GAAA,GAxEQf,gBAAgB;AAAA,IAAAW,EAAA,EAAAI,GAAA;AAAAC,YAAA,CAAAL,EAAA;AAAAK,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}