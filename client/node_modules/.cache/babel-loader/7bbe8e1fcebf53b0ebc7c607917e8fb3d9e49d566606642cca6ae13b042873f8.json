{"ast":null,"code":"import _objectSpread from\"C:/Users/sangm/OneDrive - Brock University/CommonsenseForm/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{REGIONS}from'../types/index.ts';import{checkProlificIdExists}from'../services/api.ts';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function UserInfoForm(_ref){let{onSubmit,isLoading}=_ref;const[formData,setFormData]=useState({prolificId:'',region:'North',age:0,yearsInRegion:0});const[errors,setErrors]=useState({});// NEW: State for Prolific ID checking\nconst[isCheckingProlificId,setIsCheckingProlificId]=useState(false);const[prolificIdExists,setProlificIdExists]=useState(false);const[prolificIdCheckComplete,setProlificIdCheckComplete]=useState(false);// Real-time Prolific ID validation\nconst validateProlificId=id=>{if(!id){return'Prolific ID is required';}if(id.length!==24){return\"Prolific ID must be exactly 24 characters (current: \".concat(id.length,\")\");}if(!/^[a-zA-Z0-9]+$/.test(id)){return'Prolific ID can only contain letters and numbers (no symbols or spaces)';}return'';};// NEW: Debounced function to check if Prolific ID exists\nconst checkProlificIdDebounced=useCallback(debounce(async id=>{if(id.length===24&&/^[a-zA-Z0-9]+$/.test(id)){setIsCheckingProlificId(true);try{const exists=await checkProlificIdExists(id);setProlificIdExists(exists);setProlificIdCheckComplete(true);if(exists){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{prolificId:'This Prolific ID has already been used. Please check your ID or contact support if you believe this is an error.'}));}else{// Clear any existing error if the ID is available\nsetErrors(prev=>{var _newErrors$prolificId;const newErrors=_objectSpread({},prev);if((_newErrors$prolificId=newErrors.prolificId)!==null&&_newErrors$prolificId!==void 0&&_newErrors$prolificId.includes('already been used')){delete newErrors.prolificId;}return newErrors;});}}catch(error){console.error('Error checking Prolific ID:',error);// On error, we don't block the user but log the issue\nsetProlificIdExists(false);setProlificIdCheckComplete(true);}finally{setIsCheckingProlificId(false);}}else{setProlificIdCheckComplete(false);setProlificIdExists(false);}},800),// 800ms delay\n[]);// NEW: Effect to check Prolific ID when it changes\nuseEffect(()=>{if(formData.prolificId){setProlificIdCheckComplete(false);checkProlificIdDebounced(formData.prolificId);}else{setProlificIdCheckComplete(false);setProlificIdExists(false);}},[formData.prolificId,checkProlificIdDebounced]);const validateForm=()=>{const newErrors={};// Validate Prolific ID\nconst prolificError=validateProlificId(formData.prolificId);if(prolificError){newErrors.prolificId=prolificError;}else if(prolificIdExists){newErrors.prolificId='This Prolific ID has already been used. Please check your ID or contact support if you believe this is an error.';}if(!formData.region){newErrors.region='Please select your region';}if(!formData.age||formData.age<18||formData.age>100){newErrors.age='Please enter a valid age (18-100)';}if(formData.yearsInRegion<0||formData.yearsInRegion>formData.age){newErrors.yearsInRegion='Years in region cannot exceed your age';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=e=>{e.preventDefault();if(validateForm()&&!prolificIdExists){onSubmit(formData);}};const handleRegionChange=region=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{region}));if(errors.region){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{region:undefined}));}};const handleProlificIdChange=value=>{// Remove any non-alphanumeric characters and limit to 24\nconst cleanValue=value.replace(/[^a-zA-Z0-9]/g,'').slice(0,24);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{prolificId:cleanValue}));// Clear format validation errors when user starts typing\nif(errors.prolificId&&!errors.prolificId.includes('already been used')){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{prolificId:undefined}));}};// UPDATED: Check if form is valid (now includes Prolific ID existence check)\nconst isFormValid=Object.keys(errors).length===0&&formData.prolificId.length===24&&formData.region&&formData.age&&formData.yearsInRegion>=0&&!prolificIdExists&&prolificIdCheckComplete;// Must have completed the check\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-custom-cream flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8 md:p-12 animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold text-custom-dark-brown mb-4\",children:\"Tell us about yourself\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-custom-olive\",children:\"This information helps us understand the regional context of your responses\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-lg font-semibold text-custom-dark-brown mb-2\",children:[\"Prolific ID \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-custom-olive mb-4\",children:\"Enter your Prolific participant ID\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.prolificId,onChange:e=>handleProlificIdChange(e.target.value),placeholder:\"e.g., 507f1f77bcf86cd799439011\",className:\"w-full px-4 py-3 text-lg rounded-lg border-2 transition-all duration-200 font-mono pr-12\\n                  \".concat(errors.prolificId?'border-red-500 focus:ring-red-500 focus:border-red-500':formData.prolificId.length===24&&prolificIdCheckComplete&&!prolificIdExists?'border-green-500 focus:ring-green-500 focus:border-green-500':'border-custom-blue-gray focus:ring-custom-olive focus:border-custom-olive',\" focus:ring-2\"),maxLength:24,autoComplete:\"off\",style:{color:'var(--color-dark-brown)'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",children:isCheckingProlificId?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-custom-olive\"}):formData.prolificId.length===24&&prolificIdCheckComplete?prolificIdExists?/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xl\",children:\"\\u274C\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 text-xl\",children:\"\\u2705\"}):null})]}),isCheckingProlificId&&formData.prolificId.length===24&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-custom-olive text-sm mt-2 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-custom-olive mr-2 inline-block\"}),\"Checking ID availability...\"]}),errors.prolificId&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-600 text-sm mt-2 flex items-center\",children:[\"\\u26A0\\uFE0F \",errors.prolificId]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-lg font-semibold text-custom-dark-brown mb-4\",children:\"Which region of India are you from? *\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(REGIONS).map(_ref2=>{let[region,states]=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start space-x-3 cursor-pointer p-4 border-2 border-custom-blue-gray rounded-lg hover:bg-custom-blue-gray hover:bg-opacity-30 transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"region\",value:region,checked:formData.region===region,onChange:()=>handleRegionChange(region),className:\"mt-1 h-4 w-4 text-custom-olive focus:ring-custom-olive border-custom-olive\",style:{accentColor:'var(--color-olive)'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-custom-dark-brown\",children:[region,\" India\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-custom-olive mt-1\",children:states.join(', ')})]})]})},region);})}),errors.region&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.region})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",className:\"block text-lg font-semibold text-custom-dark-brown mb-2\",children:\"What is your age? *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"age\",min:\"18\",max:\"100\",value:formData.age||'',onChange:e=>{const newAge=parseInt(e.target.value)||0;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{age:newAge}));if(errors.age){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{age:undefined}));}},className:\"w-full px-4 py-3 border-2 border-custom-blue-gray rounded-lg focus:ring-2 focus:ring-custom-olive focus:border-custom-olive text-lg text-custom-dark-brown placeholder-custom-olive placeholder-opacity-60\",placeholder:\"Enter your age\"}),errors.age&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.age})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"yearsInRegion\",className:\"block text-lg font-semibold text-custom-dark-brown mb-2\",children:\"How many years have you lived in this region? *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"yearsInRegion\",min:\"0\",max:formData.age||100,value:formData.yearsInRegion||'',onChange:e=>{const newYears=parseInt(e.target.value)||0;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{yearsInRegion:newYears}));if(errors.yearsInRegion){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{yearsInRegion:undefined}));}},className:\"w-full px-4 py-3 border-2 border-custom-blue-gray rounded-lg focus:ring-2 focus:ring-custom-olive focus:border-custom-olive text-lg text-custom-dark-brown placeholder-custom-olive placeholder-opacity-60\",placeholder:\"Enter number of years\"}),errors.yearsInRegion&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.yearsInRegion}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-custom-olive\",children:\"This includes childhood and any time spent living in this region\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading||!isFormValid||isCheckingProlificId,className:\"w-full font-bold py-4 px-6 rounded-xl text-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center \".concat(isFormValid&&!isLoading&&!isCheckingProlificId?'text-white transform hover:scale-105':'text-gray-500 bg-gray-300 cursor-not-allowed'),style:{background:isLoading||!isFormValid||isCheckingProlificId?'#d1d5db':'var(--btn-primary-bg)',backgroundImage:isLoading||!isFormValid||isCheckingProlificId?'none':'var(--btn-primary-bg)'},onMouseEnter:e=>{if(!isLoading&&isFormValid&&!isCheckingProlificId){e.currentTarget.style.backgroundImage='var(--btn-primary-hover)';}},onMouseLeave:e=>{if(!isLoading&&isFormValid&&!isCheckingProlificId){e.currentTarget.style.backgroundImage='var(--btn-primary-bg)';}},children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-2 inline-block\"}),\"Creating your session...\"]}):isCheckingProlificId?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400 mr-2 inline-block\"}),\"Checking ID...\"]}):'Start Survey'}),prolificIdExists&&formData.prolificId.length===24&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-sm text-red-600 mt-3\",children:\"Cannot proceed - this Prolific ID has already been used\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center text-sm text-custom-olive\",children:/*#__PURE__*/_jsx(\"p\",{children:\"All information is kept confidential and used only for research purposes.\"})})]})});}// NEW: Debounce utility function\nfunction debounce(func,wait){let timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeout);timeout=setTimeout(()=>func.apply(null,args),wait);};}","map":{"version":3,"names":["React","useState","useEffect","useCallback","REGIONS","checkProlificIdExists","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserInfoForm","_ref","onSubmit","isLoading","formData","setFormData","prolificId","region","age","yearsInRegion","errors","setErrors","isCheckingProlificId","setIsCheckingProlificId","prolificIdExists","setProlificIdExists","prolificIdCheckComplete","setProlificIdCheckComplete","validateProlificId","id","length","concat","test","checkProlificIdDebounced","debounce","exists","prev","_objectSpread","_newErrors$prolificId","newErrors","includes","error","console","validateForm","prolificError","Object","keys","handleSubmit","e","preventDefault","handleRegionChange","undefined","handleProlificIdChange","value","cleanValue","replace","slice","isFormValid","className","children","type","onChange","target","placeholder","maxLength","autoComplete","style","color","entries","map","_ref2","states","name","checked","accentColor","join","htmlFor","min","max","newAge","parseInt","newYears","disabled","background","backgroundImage","onMouseEnter","currentTarget","onMouseLeave","func","wait","timeout","_len","arguments","args","Array","_key","clearTimeout","setTimeout","apply"],"sources":["C:/Users/sangm/OneDrive - Brock University/CommonsenseForm/client/src/components/UserInfo.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { UserInfo, UserInfoErrors, REGIONS } from '../types/index.ts';\r\nimport { checkProlificIdExists } from '../services/api.ts';\r\n\r\ninterface UserInfoProps {\r\n  onSubmit: (userInfo: UserInfo) => void;\r\n  isLoading: boolean;\r\n}\r\n\r\nexport default function UserInfoForm({ onSubmit, isLoading }: UserInfoProps) {\r\n  const [formData, setFormData] = useState<UserInfo>({\r\n    prolificId: '',\r\n    region: 'North',\r\n    age: 0,\r\n    yearsInRegion: 0\r\n  });\r\n  const [errors, setErrors] = useState<UserInfoErrors>({});\r\n  \r\n  // NEW: State for Prolific ID checking\r\n  const [isCheckingProlificId, setIsCheckingProlificId] = useState(false);\r\n  const [prolificIdExists, setProlificIdExists] = useState(false);\r\n  const [prolificIdCheckComplete, setProlificIdCheckComplete] = useState(false);\r\n\r\n  // Real-time Prolific ID validation\r\n  const validateProlificId = (id: string): string => {\r\n    if (!id) {\r\n      return 'Prolific ID is required';\r\n    }\r\n    if (id.length !== 24) {\r\n      return `Prolific ID must be exactly 24 characters (current: ${id.length})`;\r\n    }\r\n    if (!/^[a-zA-Z0-9]+$/.test(id)) {\r\n      return 'Prolific ID can only contain letters and numbers (no symbols or spaces)';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // NEW: Debounced function to check if Prolific ID exists\r\n  const checkProlificIdDebounced = useCallback(\r\n    debounce(async (id: string) => {\r\n      if (id.length === 24 && /^[a-zA-Z0-9]+$/.test(id)) {\r\n        setIsCheckingProlificId(true);\r\n        try {\r\n          const exists = await checkProlificIdExists(id);\r\n          setProlificIdExists(exists);\r\n          setProlificIdCheckComplete(true);\r\n          \r\n          if (exists) {\r\n            setErrors(prev => ({ \r\n              ...prev, \r\n              prolificId: 'This Prolific ID has already been used. Please check your ID or contact support if you believe this is an error.' \r\n            }));\r\n          } else {\r\n            // Clear any existing error if the ID is available\r\n            setErrors(prev => {\r\n              const newErrors = { ...prev };\r\n              if (newErrors.prolificId?.includes('already been used')) {\r\n                delete newErrors.prolificId;\r\n              }\r\n              return newErrors;\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Error checking Prolific ID:', error);\r\n          // On error, we don't block the user but log the issue\r\n          setProlificIdExists(false);\r\n          setProlificIdCheckComplete(true);\r\n        } finally {\r\n          setIsCheckingProlificId(false);\r\n        }\r\n      } else {\r\n        setProlificIdCheckComplete(false);\r\n        setProlificIdExists(false);\r\n      }\r\n    }, 800), // 800ms delay\r\n    []\r\n  );\r\n\r\n  // NEW: Effect to check Prolific ID when it changes\r\n  useEffect(() => {\r\n    if (formData.prolificId) {\r\n      setProlificIdCheckComplete(false);\r\n      checkProlificIdDebounced(formData.prolificId);\r\n    } else {\r\n      setProlificIdCheckComplete(false);\r\n      setProlificIdExists(false);\r\n    }\r\n  }, [formData.prolificId, checkProlificIdDebounced]);\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: UserInfoErrors = {};\r\n\r\n    // Validate Prolific ID\r\n    const prolificError = validateProlificId(formData.prolificId);\r\n    if (prolificError) {\r\n      newErrors.prolificId = prolificError;\r\n    } else if (prolificIdExists) {\r\n      newErrors.prolificId = 'This Prolific ID has already been used. Please check your ID or contact support if you believe this is an error.';\r\n    }\r\n\r\n    if (!formData.region) {\r\n      newErrors.region = 'Please select your region';\r\n    }\r\n\r\n    if (!formData.age || formData.age < 18 || formData.age > 100) {\r\n      newErrors.age = 'Please enter a valid age (18-100)';\r\n    }\r\n\r\n    if (formData.yearsInRegion < 0 || formData.yearsInRegion > formData.age) {\r\n      newErrors.yearsInRegion = 'Years in region cannot exceed your age';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (validateForm() && !prolificIdExists) {\r\n      onSubmit(formData);\r\n    }\r\n  };\r\n\r\n  const handleRegionChange = (region: keyof typeof REGIONS) => {\r\n    setFormData(prev => ({ ...prev, region }));\r\n    if (errors.region) {\r\n      setErrors(prev => ({ ...prev, region: undefined }));\r\n    }\r\n  };\r\n\r\n  const handleProlificIdChange = (value: string) => {\r\n    // Remove any non-alphanumeric characters and limit to 24\r\n    const cleanValue = value.replace(/[^a-zA-Z0-9]/g, '').slice(0, 24);\r\n    setFormData(prev => ({ ...prev, prolificId: cleanValue }));\r\n    \r\n    // Clear format validation errors when user starts typing\r\n    if (errors.prolificId && !errors.prolificId.includes('already been used')) {\r\n      setErrors(prev => ({ ...prev, prolificId: undefined }));\r\n    }\r\n  };\r\n\r\n  // UPDATED: Check if form is valid (now includes Prolific ID existence check)\r\n  const isFormValid = Object.keys(errors).length === 0 && \r\n                     formData.prolificId.length === 24 && \r\n                     formData.region && \r\n                     formData.age && \r\n                     formData.yearsInRegion >= 0 &&\r\n                     !prolificIdExists &&\r\n                     prolificIdCheckComplete; // Must have completed the check\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-custom-cream flex items-center justify-center p-4\">\r\n      <div className=\"max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8 md:p-12 animate-fade-in\">\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold text-custom-dark-brown mb-4\">\r\n            Tell us about yourself\r\n          </h1>\r\n          <p className=\"text-custom-olive\">\r\n            This information helps us understand the regional context of your responses\r\n          </p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n          {/* Prolific ID - TOP PRIORITY */}\r\n          <div>\r\n            <label className=\"block text-lg font-semibold text-custom-dark-brown mb-2\">\r\n              Prolific ID <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <p className=\"text-sm text-custom-olive mb-4\">\r\n              Enter your Prolific participant ID \r\n            </p>\r\n            <div className=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                value={formData.prolificId}\r\n                onChange={(e) => handleProlificIdChange(e.target.value)}\r\n                placeholder=\"e.g., 507f1f77bcf86cd799439011\"\r\n                className={`w-full px-4 py-3 text-lg rounded-lg border-2 transition-all duration-200 font-mono pr-12\r\n                  ${errors.prolificId \r\n                    ? 'border-red-500 focus:ring-red-500 focus:border-red-500' \r\n                    : formData.prolificId.length === 24 && prolificIdCheckComplete && !prolificIdExists\r\n                      ? 'border-green-500 focus:ring-green-500 focus:border-green-500'\r\n                      : 'border-custom-blue-gray focus:ring-custom-olive focus:border-custom-olive'\r\n                  } focus:ring-2`}\r\n                maxLength={24}\r\n                autoComplete=\"off\"\r\n                style={{\r\n                  color: 'var(--color-dark-brown)'\r\n                }}\r\n              />\r\n              \r\n              {/* NEW: Status indicator */}\r\n              <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\r\n                {isCheckingProlificId ? (\r\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-custom-olive\"></div>\r\n                ) : formData.prolificId.length === 24 && prolificIdCheckComplete ? (\r\n                  prolificIdExists ? (\r\n                    <span className=\"text-red-500 text-xl\">❌</span>\r\n                  ) : (\r\n                    <span className=\"text-green-500 text-xl\">✅</span>\r\n                  )\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* NEW: Status messages */}\r\n            {/* AFTER - CORRECT: span inside p */}\r\n            {isCheckingProlificId && formData.prolificId.length === 24 && (\r\n              <p className=\"text-custom-olive text-sm mt-2 flex items-center\">\r\n                <span className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-custom-olive mr-2 inline-block\"></span>\r\n                Checking ID availability...\r\n              </p>\r\n            )}\r\n            \r\n            \r\n            \r\n            {errors.prolificId && (\r\n              <p className=\"text-red-600 text-sm mt-2 flex items-center\">\r\n                ⚠️ {errors.prolificId}\r\n              </p>\r\n            )}\r\n            \r\n          </div>\r\n\r\n          {/* Region Selection */}\r\n          <div>\r\n            <label className=\"block text-lg font-semibold text-custom-dark-brown mb-4\">\r\n              Which region of India are you from? *\r\n            </label>\r\n            <div className=\"space-y-4\">\r\n              {Object.entries(REGIONS).map(([region, states]) => (\r\n                <div key={region} className=\"relative\">\r\n                  <label className=\"flex items-start space-x-3 cursor-pointer p-4 border-2 border-custom-blue-gray rounded-lg hover:bg-custom-blue-gray hover:bg-opacity-30 transition-colors\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"region\"\r\n                      value={region}\r\n                      checked={formData.region === region}\r\n                      onChange={() => handleRegionChange(region as keyof typeof REGIONS)}\r\n                      className=\"mt-1 h-4 w-4 text-custom-olive focus:ring-custom-olive border-custom-olive\"\r\n                      style={{\r\n                        accentColor: 'var(--color-olive)'\r\n                      }}\r\n                    />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium text-custom-dark-brown\">{region} India</div>\r\n                      <div className=\"text-sm text-custom-olive mt-1\">\r\n                        {states.join(', ')}\r\n                      </div>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {errors.region && (\r\n              <p className=\"mt-2 text-sm text-red-600\">{errors.region}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Age Input */}\r\n          <div>\r\n            <label htmlFor=\"age\" className=\"block text-lg font-semibold text-custom-dark-brown mb-2\">\r\n              What is your age? *\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"age\"\r\n              min=\"18\"\r\n              max=\"100\"\r\n              value={formData.age || ''}\r\n              onChange={(e) => {\r\n                const newAge = parseInt(e.target.value) || 0;\r\n                setFormData(prev => ({ ...prev, age: newAge }));\r\n                if (errors.age) {\r\n                  setErrors(prev => ({ ...prev, age: undefined }));\r\n                }\r\n              }}\r\n              className=\"w-full px-4 py-3 border-2 border-custom-blue-gray rounded-lg focus:ring-2 focus:ring-custom-olive focus:border-custom-olive text-lg text-custom-dark-brown placeholder-custom-olive placeholder-opacity-60\"\r\n              placeholder=\"Enter your age\"\r\n            />\r\n            {errors.age && (\r\n              <p className=\"mt-2 text-sm text-red-600\">{errors.age}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Years in Region Input */}\r\n          <div>\r\n            <label htmlFor=\"yearsInRegion\" className=\"block text-lg font-semibold text-custom-dark-brown mb-2\">\r\n              How many years have you lived in this region? *\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"yearsInRegion\"\r\n              min=\"0\"\r\n              max={formData.age || 100}\r\n              value={formData.yearsInRegion || ''}\r\n              onChange={(e) => {\r\n                const newYears = parseInt(e.target.value) || 0;\r\n                setFormData(prev => ({ ...prev, yearsInRegion: newYears }));\r\n                if (errors.yearsInRegion) {\r\n                  setErrors(prev => ({ ...prev, yearsInRegion: undefined }));\r\n                }\r\n              }}\r\n              className=\"w-full px-4 py-3 border-2 border-custom-blue-gray rounded-lg focus:ring-2 focus:ring-custom-olive focus:border-custom-olive text-lg text-custom-dark-brown placeholder-custom-olive placeholder-opacity-60\"\r\n              placeholder=\"Enter number of years\"\r\n            />\r\n            {errors.yearsInRegion && (\r\n              <p className=\"mt-2 text-sm text-red-600\">{errors.yearsInRegion}</p>\r\n            )}\r\n            <p className=\"mt-2 text-sm text-custom-olive\">\r\n              This includes childhood and any time spent living in this region\r\n            </p>\r\n          </div>\r\n\r\n          {/* Submit button - FIXED */}\r\n        <div className=\"pt-6\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading || !isFormValid || isCheckingProlificId}\r\n            className={`w-full font-bold py-4 px-6 rounded-xl text-lg transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center ${\r\n              isFormValid && !isLoading && !isCheckingProlificId\r\n                ? 'text-white transform hover:scale-105'\r\n                : 'text-gray-500 bg-gray-300 cursor-not-allowed'\r\n            }`}\r\n            style={{\r\n              background: isLoading || !isFormValid || isCheckingProlificId\r\n                ? '#d1d5db'\r\n                : 'var(--btn-primary-bg)',\r\n              backgroundImage: isLoading || !isFormValid || isCheckingProlificId\r\n                ? 'none'\r\n                : 'var(--btn-primary-bg)'\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              if (!isLoading && isFormValid && !isCheckingProlificId) {\r\n                e.currentTarget.style.backgroundImage = 'var(--btn-primary-hover)';\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              if (!isLoading && isFormValid && !isCheckingProlificId) {\r\n                e.currentTarget.style.backgroundImage = 'var(--btn-primary-bg)';\r\n              }\r\n            }}\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <span className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-2 inline-block\"></span>\r\n                Creating your session...\r\n              </>\r\n            ) : isCheckingProlificId ? (\r\n              <>\r\n                <span className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400 mr-2 inline-block\"></span>\r\n                Checking ID...\r\n              </>\r\n            ) : (\r\n              'Start Survey'\r\n            )}\r\n          </button>\r\n            \r\n            {/* NEW: Helpful message when button is disabled due to duplicate ID */}\r\n            {prolificIdExists && formData.prolificId.length === 24 && (\r\n              <p className=\"text-center text-sm text-red-600 mt-3\">\r\n                Cannot proceed - this Prolific ID has already been used\r\n              </p>\r\n            )}\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center text-sm text-custom-olive\">\r\n          <p>All information is kept confidential and used only for research purposes.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// NEW: Debounce utility function\r\nfunction debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: ReturnType<typeof setTimeout>;\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func.apply(null, args), wait);\r\n  };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}